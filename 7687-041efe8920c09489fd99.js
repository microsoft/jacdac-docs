"use strict";
(self["webpackChunkjacdac_docs"] = self["webpackChunkjacdac_docs"] || []).push([[7687,4362],{

/***/ 96540:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
}), 'Add');
exports.Z = _default;

/***/ }),

/***/ 38192:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-8c0-.55.45-1 1-1s1 .45 1 1h-1v1h1v2h-1v1h1v2h-2V5z"
}), 'DeviceThermostat');
exports.Z = _default;

/***/ }),

/***/ 83619:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"
}), 'Devices');
exports.Z = _default;

/***/ }),

/***/ 76750:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M12 20H2v-2h5.75c-.73-2.81-2.94-5.01-5.75-5.74.64-.16 1.31-.26 2-.26 4.42 0 8 3.58 8 8zm10-7.74c-.64-.16-1.31-.26-2-.26-2.93 0-5.48 1.58-6.88 3.93.29.66.53 1.35.67 2.07.13.65.2 1.32.2 2h8v-2h-5.75c.74-2.81 2.95-5.01 5.76-5.74zm-6.36-1.24c.78-2.09 2.23-3.84 4.09-5C15.44 6.16 12 9.67 12 14v.02c.95-1.27 2.2-2.3 3.64-3zm-4.22-2.17C10.58 6.66 8.88 4.89 6.7 4 8.14 5.86 9 8.18 9 10.71c0 .21-.03.41-.04.61.43.24.83.52 1.22.82.21-1.18.65-2.29 1.24-3.29z"
}), 'Grass');
exports.Z = _default;

/***/ }),

/***/ 90469:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M19.5 9.5c-1.03 0-1.9.62-2.29 1.5h-2.92c-.39-.88-1.26-1.5-2.29-1.5s-1.9.62-2.29 1.5H6.79c-.39-.88-1.26-1.5-2.29-1.5C3.12 9.5 2 10.62 2 12s1.12 2.5 2.5 2.5c1.03 0 1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5s1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5 1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5z"
}), 'LinearScale');
exports.Z = _default;

/***/ }),

/***/ 64362:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {



var _interopRequireDefault = __webpack_require__(95318);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"
}), 'MusicNote');
exports["default"] = _default;

/***/ }),

/***/ 8857:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"
}), 'RadioButtonChecked');
exports.Z = _default;

/***/ }),

/***/ 48852:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M11 19h2v3h-2zm-9-8h3v2H2zm17 0h3v2h-3zm-3.106 6.8014 1.4072-1.4071 2.1213 2.1213-1.4071 1.4071zm-11.3099.7071 2.1214-2.1213 1.4071 1.4072-2.1213 2.1213zM15 8.02V3H9v5.02c-1.21.92-2 2.35-2 3.98 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.06-2-3.98zM11 5h2v2.1c-.32-.06-.66-.1-1-.1s-.68.04-1 .1V5z"
}), 'Tungsten');
exports.Z = _default;

/***/ }),

/***/ 8433:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M21.98 14H22h-.02zM5.35 13c1.19 0 1.42 1 3.33 1 1.95 0 2.09-1 3.33-1 1.19 0 1.42 1 3.33 1 1.95 0 2.09-1 3.33-1 1.19 0 1.4.98 3.31 1v-2c-1.19 0-1.42-1-3.33-1-1.95 0-2.09 1-3.33 1-1.19 0-1.42-1-3.33-1-1.95 0-2.09 1-3.33 1-1.19 0-1.42-1-3.33-1-1.95 0-2.09 1-3.33 1v2c1.9 0 2.17-1 3.35-1zm13.32 2c-1.95 0-2.09 1-3.33 1-1.19 0-1.42-1-3.33-1-1.95 0-2.1 1-3.34 1-1.24 0-1.38-1-3.33-1-1.95 0-2.1 1-3.34 1v2c1.95 0 2.11-1 3.34-1 1.24 0 1.38 1 3.33 1 1.95 0 2.1-1 3.34-1 1.19 0 1.42 1 3.33 1 1.94 0 2.09-1 3.33-1 1.19 0 1.42 1 3.33 1v-2c-1.24 0-1.38-1-3.33-1zM5.35 9c1.19 0 1.42 1 3.33 1 1.95 0 2.09-1 3.33-1 1.19 0 1.42 1 3.33 1 1.95 0 2.09-1 3.33-1 1.19 0 1.4.98 3.31 1V8c-1.19 0-1.42-1-3.33-1-1.95 0-2.09 1-3.33 1-1.19 0-1.42-1-3.33-1-1.95 0-2.09 1-3.33 1-1.19 0-1.42-1-3.33-1C3.38 7 3.24 8 2 8v2c1.9 0 2.17-1 3.35-1z"
}), 'Water');
exports.Z = _default;

/***/ }),

/***/ 98815:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ StartMissingSimulatorsButton; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(15861);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _mui_icons_material_Devices__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(83619);
/* harmony import */ var _services_useRoleManagerClient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23239);
/* harmony import */ var _jacdac_useChange__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63339);
/* harmony import */ var _CmdButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(10662);
/* harmony import */ var _jacdac_ts_src_jdom_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(46196);
function StartMissingSimulatorsButton(props){var{trackName,children,disabledChildren,variant="outlined",hideOnDisabled}=props;var roleManagerClient=(0,_services_useRoleManagerClient__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)();var allRolesBound=(0,_jacdac_useChange__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(roleManagerClient,_=>_===null||_===void 0?void 0:_.allRolesBound());var handleStartSimulators=/*#__PURE__*/function(){var _ref=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(function*(){roleManagerClient===null||roleManagerClient===void 0?void 0:roleManagerClient.startSimulators();yield (0,_jacdac_ts_src_jdom_utils__WEBPACK_IMPORTED_MODULE_4__/* .delay */ .gw)(1000);});return function handleStartSimulators(){return _ref.apply(this,arguments);};}();var disabled=!roleManagerClient||allRolesBound;if(disabled&&hideOnDisabled)return null;// TODO: i18n
var enabledTooltip="Create a simulator for each Role without an assigned device";var disabledTooltip="This button becomes available if there are Roles without assignable devices";return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_CmdButton__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z,{size:"small",title:disabled?disabledTooltip:enabledTooltip,variant:variant,trackName:trackName,onClick:handleStartSimulators,disabled:disabled,icon:/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Devices__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z,null)},disabled&&disabledChildren!==undefined?disabledChildren:children);}

/***/ }),

/***/ 7687:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": function() { return /* binding */ Dashboard; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
var objectWithoutPropertiesLoose = __webpack_require__(63366);
// EXTERNAL MODULE: ./node_modules/@mui/material/Grid/Grid.js + 2 modules
var Grid = __webpack_require__(15725);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/utils.ts
var utils = __webpack_require__(46196);
// EXTERNAL MODULE: ./src/components/hooks/useDevices.ts
var useDevices = __webpack_require__(18891);
// EXTERNAL MODULE: ./src/components/ui/IconButtonWithTooltip.tsx + 1 modules
var IconButtonWithTooltip = __webpack_require__(48147);
// EXTERNAL MODULE: ./src/components/ui/GridHeader.tsx
var GridHeader = __webpack_require__(99834);
// EXTERNAL MODULE: ./src/components/dashboard/DashboardDeviceItem.tsx
var DashboardDeviceItem = __webpack_require__(73598);
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardDeviceGroup.tsx
var _excluded=["title","action","devices","children"];function DeviceGroup(props){var{title,action,devices,children}=props,other=(0,objectWithoutPropertiesLoose/* default */.Z)(props,_excluded);var sectionId=(0,react.useId)();if(!action&&!(devices!==null&&devices!==void 0&&devices.length))return null;return/*#__PURE__*/react.createElement("section",{id:sectionId},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{sx:{mb:1},container:true,spacing:1},/*#__PURE__*/react.createElement(GridHeader/* default */.Z,{title:title,action:action}),children,devices===null||devices===void 0?void 0:devices.map(device=>/*#__PURE__*/react.createElement(DashboardDeviceItem/* default */.Z,Object.assign({key:device.id,device:device},other)))));}
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Clear.js
var Clear = __webpack_require__(63343);
// EXTERNAL MODULE: ./src/components/alert/ConnectAlert.tsx
var ConnectAlert = __webpack_require__(78055);
// EXTERNAL MODULE: ./src/components/buttons/ConnectButtons.tsx
var ConnectButtons = __webpack_require__(13456);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/constants.ts
var constants = __webpack_require__(3964);
// EXTERNAL MODULE: ./jacdac-ts/src/servers/servers.ts + 4 modules
var servers = __webpack_require__(43850);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Add.js
var Add = __webpack_require__(96540);
// EXTERNAL MODULE: ./src/components/ui/Alert.tsx
var Alert = __webpack_require__(46259);
// EXTERNAL MODULE: ./src/components/SimulatorsDialogContext.tsx
var SimulatorsDialogContext = __webpack_require__(22268);
// EXTERNAL MODULE: ./src/jacdac/useBus.ts
var useBus = __webpack_require__(26040);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/RadioButtonChecked.js
var RadioButtonChecked = __webpack_require__(8857);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Water.js
var Water = __webpack_require__(8433);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/DeviceThermostat.js
var DeviceThermostat = __webpack_require__(38192);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Grass.js
var Grass = __webpack_require__(76750);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/MusicNote.js
var MusicNote = __webpack_require__(64362);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/LinearScale.js
var LinearScale = __webpack_require__(90469);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Tungsten.js
var Tungsten = __webpack_require__(48852);
;// CONCATENATED MODULE: ./src/components/alert/SimulateDeviceAlert.tsx
function SimulateDeviceHint(){var bus=(0,useBus/* default */.Z)();var handleStartSimulator=serviceClass=>()=>(0,servers/* startServiceProviderFromServiceClass */.V6)(bus,serviceClass);var{toggleShowDeviceHostsDialog}=(0,react.useContext)(SimulatorsDialogContext/* default */.Z);var handleShowStartSimulator=()=>toggleShowDeviceHostsDialog();return/*#__PURE__*/react.createElement(react.Fragment,null,"Simulate",/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.button",onClick:handleStartSimulator(constants/* SRV_BUTTON */.XJR),title:"button","aria-label":"start button simulator"},/*#__PURE__*/react.createElement(RadioButtonChecked/* default */.Z,null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.humidity",onClick:handleStartSimulator(constants/* SRV_HUMIDITY */.JbI),title:"humidity","aria-label":"start humidity sensor"},/*#__PURE__*/react.createElement(Water/* default */.Z,null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.thermometer",onClick:handleStartSimulator(constants/* SRV_TEMPERATURE */.ToE),title:"thermometer","aria-label":"start thermometer"},/*#__PURE__*/react.createElement(DeviceThermostat/* default */.Z,null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.soilmoisture",onClick:handleStartSimulator(constants/* SRV_SOIL_MOISTURE */.Bj3),title:"soil moisture","aria-label":"start soil moisture simulator"},/*#__PURE__*/react.createElement(Grass/* default */.Z,null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.buzzer",onClick:handleStartSimulator(constants/* SRV_BUZZER */.J1$),title:"buzzer","aria-label":"start buzzer simulator"},/*#__PURE__*/react.createElement(MusicNote["default"],null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.potentiometer",onClick:handleStartSimulator(constants/* SRV_POTENTIOMETER */.GQv),title:"slider","aria-label":"start slider simulator"},/*#__PURE__*/react.createElement(LinearScale/* default */.Z,null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.led",onClick:handleStartSimulator(constants/* SRV_LED */.i04),title:"LED","aria-label":"start LED simulator"},/*#__PURE__*/react.createElement(Tungsten/* default */.Z,null)),"or click \xA0",/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.start",title:"start simulator",onClick:handleShowStartSimulator},/*#__PURE__*/react.createElement(Add/* default */.Z,null)),".");}function SimulateDeviceAlert(){return/*#__PURE__*/react.createElement(Alert/* default */.Z,{severity:"info"},/*#__PURE__*/react.createElement(SimulateDeviceHint,null));}
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/flags.ts
var flags = __webpack_require__(86160);
// EXTERNAL MODULE: ./node_modules/@mui/material/Chip/Chip.js + 2 modules
var Chip = __webpack_require__(90461);
;// CONCATENATED MODULE: ./src/components/buttons/StartSimulatorButton.tsx
function StartSimulatorButton(props){var{trackName,useChip}=props;var{toggleShowDeviceHostsDialog}=(0,react.useContext)(SimulatorsDialogContext/* default */.Z);var handleShowStartSimulator=()=>toggleShowDeviceHostsDialog({trackName});if(useChip)return/*#__PURE__*/react.createElement(Chip/* default */.Z,{label:"simulator",title:"start simulator",variant:"outlined",icon:/*#__PURE__*/react.createElement(Add/* default */.Z,null),onClick:handleShowStartSimulator});else return/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{title:"start simulator",trackName:trackName,onClick:handleShowStartSimulator},/*#__PURE__*/react.createElement(Add/* default */.Z,null));}
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/spec.ts + 1 modules
var spec = __webpack_require__(62070);
;// CONCATENATED MODULE: ./src/components/dashboard/filters.ts
function defaultDeviceSort(l,r){var srvScore=srv=>srv.packets.reduce((prev,pkt)=>prev+((0,spec/* isReading */.vz)(pkt)?10:(0,spec/* isValueOrIntensity */.sX)(pkt)?1:0),0)||0;var score=srvs=>srvs.reduce((prev,srv)=>srvScore(srv),0);var ls=score(l.services().slice(1).map(srv=>srv.specification).filter(spec=>!!spec));var rs=score(r.services().slice(1).map(srv=>srv.specification).filter(spec=>!!spec));if(ls!==rs)return-ls+rs;return (0,utils/* strcmp */.eT)(l.deviceId,r.deviceId);}// eslint-disable-next-line @typescript-eslint/no-unused-vars
function defaultDeviceFilter(d){return true;}
// EXTERNAL MODULE: ./src/components/HostedSimulatorsContext.tsx
var HostedSimulatorsContext = __webpack_require__(55630);
// EXTERNAL MODULE: ./src/components/buttons/StartMissingSimulatorsButton.tsx
var StartMissingSimulatorsButton = __webpack_require__(98815);
// EXTERNAL MODULE: ./src/jacdac/useBusWithMode.ts
var useBusWithMode = __webpack_require__(96290);
// EXTERNAL MODULE: ./src/components/PacketsContext.tsx
var PacketsContext = __webpack_require__(12457);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.flat-map.js
var es_array_flat_map = __webpack_require__(86535);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.unscopables.flat-map.js
var es_array_unscopables_flat_map = __webpack_require__(99244);
// EXTERNAL MODULE: ./src/components/devices/DeviceAvatar.tsx + 1 modules
var DeviceAvatar = __webpack_require__(30841);
// EXTERNAL MODULE: ./src/components/hooks/useRegister.ts
var useRegister = __webpack_require__(22878);
// EXTERNAL MODULE: ./src/jacdac/useRegisterValue.ts
var useRegisterValue = __webpack_require__(9680);
// EXTERNAL MODULE: ./jacdac-ts/jacdac-spec/spectool/jdspec.ts
var jdspec = __webpack_require__(18763);
;// CONCATENATED MODULE: ./src/components/devices/DevicePowerChips.tsx
function ServicePowerChip(props){var _humanify;var{service}=props;var allowedRegister=(0,useRegister/* default */.Z)(service,constants/* PowerReg.Allowed */.$xp.Allowed);var powerStatusRegister=(0,useRegister/* default */.Z)(service,constants/* PowerReg.PowerStatus */.$xp.PowerStatus);var allowed=(0,useRegisterValue/* useRegisterBoolValue */.I8)(allowedRegister,{visible:true});var[powerStatus]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(powerStatusRegister,{visible:true});var deviceName=service.device.shortId;if(allowed===undefined||powerStatus===undefined)return null;var off=!allowed;var on=!off&&powerStatus===constants/* PowerPowerStatus.Powering */.p6N.Powering;var status=off?"off":on?"on":(_humanify=(0,jdspec/* humanify */.lW)(constants/* PowerPowerStatus */.p6N[powerStatus]))===null||_humanify===void 0?void 0:_humanify.toLowerCase();return/*#__PURE__*/react.createElement(Chip/* default */.Z,{sx:{mr:0.5},label:status,variant:"outlined",title:deviceName+": power '"+status+"'",avatar:/*#__PURE__*/react.createElement(DeviceAvatar/* default */.Z,{device:service.device})});}function DevicePowerChips(props){var{devices}=props;var powers=devices.flatMap(dev=>dev.services({serviceClass:constants/* SRV_POWER */.mQG}));if(!(powers!==null&&powers!==void 0&&powers.length))return null;return/*#__PURE__*/react.createElement(react.Fragment,null,powers.map(service=>/*#__PURE__*/react.createElement(ServicePowerChip,{key:service.id,service:service})));}
;// CONCATENATED MODULE: ./src/components/dashboard/Dashboard.tsx
var Dashboard_excluded=["hideSimulators","showConnect","showStartSimulators","showStartRoleSimulators","showHeader","showAvatar","showSimulatorHeader","showSimulatorAvatar","showDeviceHeader","showDeviceAvatar","deviceSort","deviceFilter"];// tslint:disable-next-line: no-submodule-imports match-default-export-name
// tslint:disable-next-line: no-submodule-imports match-default-export-name
function Dashboard(props){var{hideSimulators,showConnect,showStartSimulators,showStartRoleSimulators,showHeader,showAvatar,showSimulatorHeader,showSimulatorAvatar,showDeviceHeader,showDeviceAvatar,deviceSort=defaultDeviceSort,deviceFilter=defaultDeviceFilter}=props,other=(0,objectWithoutPropertiesLoose/* default */.Z)(props,Dashboard_excluded);var{tracing}=(0,react.useContext)(PacketsContext/* default */.Z);var bus=(0,useBusWithMode/* default */.Z)({autoConnect:!tracing});var{isHostedSimulator,clearHostedSimulators}=(0,HostedSimulatorsContext/* default */.ZP)();var devices=(0,useDevices/* default */.Z)({announced:true,ignoreInfrastructure:!flags/* Flags.diagnostics */.v.diagnostics}).filter(deviceFilter).sort(deviceSort);var[simulators,physicals]=(0,utils/* splitFilter */.ap)(devices,d=>!!bus.findServiceProvider(d.deviceId)||isHostedSimulator(d.deviceId));var handleClearSimulators=()=>{clearHostedSimulators();bus.clearServiceProviders();};return/*#__PURE__*/react.createElement(react.Fragment,null,!hideSimulators&&/*#__PURE__*/react.createElement(DeviceGroup,Object.assign({title:"Simulators",action:/*#__PURE__*/react.createElement(react.Fragment,null,showStartRoleSimulators&&/*#__PURE__*/react.createElement(StartMissingSimulatorsButton/* default */.Z,{trackName:"dashboard.simulators.missing",disabledChildren:null},"Auto start"),/*#__PURE__*/react.createElement(StartSimulatorButton,{trackName:"dashboard.simulators.start"}),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"dashboard.simulators.clear",title:"clear simulators",onClick:handleClearSimulators},/*#__PURE__*/react.createElement(Clear/* default */.Z,null))," ",/*#__PURE__*/react.createElement(DevicePowerChips,{devices:simulators})),devices:simulators,showHeader:showHeader||showSimulatorHeader,showAvatar:showAvatar||showSimulatorAvatar},other),showStartSimulators&&!(simulators!==null&&simulators!==void 0&&simulators.length)&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},/*#__PURE__*/react.createElement(SimulateDeviceAlert,null))),/*#__PURE__*/react.createElement(DeviceGroup,Object.assign({title:"Devices",action:/*#__PURE__*/react.createElement(react.Fragment,null,showConnect&&/*#__PURE__*/react.createElement(ConnectButtons/* default */.Z,{full:"disconnected",transparent:true}),/*#__PURE__*/react.createElement(DevicePowerChips,{devices:physicals})),devices:physicals,showHeader:showHeader||showDeviceHeader,showAvatar:showAvatar||showDeviceAvatar},other),showConnect&&!physicals.length&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},/*#__PURE__*/react.createElement(ConnectAlert/* default */.Z,{closeable:true}))));}

/***/ })

}]);
//# sourceMappingURL=7687-041efe8920c09489fd99.js.map