{"version":3,"file":"6076-039e242f4f0f9c91151e.js","mappings":";;;;;;;;;;;;;;;;;;;AAWe,iCAAyD,CACpE,GAAM,UAAN,MACA,GAAMA,CAAAA,cAAc,CAAGC,uEAAW,SAAUC,+FAAV,CAAlC,CACA,GAAMC,CAAAA,MAAM,CAAGC,wFAAoB,gBAAnC,KAAmC,CAAnC,CACA,GAAMC,CAAAA,MAAM,CAAGC,4EAAgB,CAA/B,OAA+B,CAA/B,CACA,GAAMC,CAAAA,KAAK,CAAGF,MAAM,aAApB,UACA,GAAM,gDACFG,4EAAc,CADlB,KACkB,CADlB,CAGA,GAAMC,CAAAA,CAAC,CAAP,IACA,GAAMC,CAAAA,EAAE,CAAR,GACA,GAAMC,CAAAA,CAAC,CAAP,GACA,GAAMC,CAAAA,CAAC,CAAP,EACA,GAAMC,CAAAA,EAAE,CAAGF,CAAC,CAAG,EAAf,EACA,GAAMG,CAAAA,GAAG,CAAGD,EAAE,CAAG,EAAjB,EAEA,GAAME,CAAAA,GAAG,CAAGC,6EAAiB,CAACb,MAAM,GAAOM,CAAC,CAADA,EAAAA,CAAS,EAAvB,EAA7B,CAA6B,CAA7B,CACA,GAAMQ,CAAAA,KAAK,CAAGd,MAAM,iBAApB,gBAEA,GAAMe,CAAAA,QAAQ,CAAIC,EAAD,EAA4B,sBACzCd,MAAM,GAANA,IAAAA,EAAAA,MAAM,OAANA,EAAAA,CAAAA,IAAAA,EAAAA,CAAAA,CAAAA,gBAAAA,CAAAA,MAAM,CAANA,QAAAA,CAAiBH,+FAAjBG,CAAAA,IAAAA,IAAAA,EAAAA,gBAAAA,GAAAA,IAAAA,EAAAA,CAAAA,IAAAA,EAAAA,CAAAA,gBAAAA,CAAAA,SAAAA,CAAgD,CAAC,UAAjDA,CAAgD,CAAhDA,CAAAA,CACAL,cAAc,CAAdA,OAAAA,GAFJ,EAKA,GAAMoB,CAAAA,WAAW,CAAGC,6EAAiB,OAEjC,CAAC,CAAD,QAFJ,QAAqC,CAArC,CAKA,mBACI,sHAAW,KAAK,CAAhB,EAAqB,MAAM,CAA3B,EAAgC,UAAU,CAA1C,yBACI,yDACI,CAAC,CAAET,CAAC,CADR,IAEI,CAAC,CAAEA,CAAC,CAAG,CAACC,EAAE,CAAH,KAFX,EAGI,KAAK,CAHT,GAII,MAAM,CAJV,IAKI,EAAE,CALN,EAMI,EAAE,CANN,EAOI,IAAI,CAPR,OAQI,MAAM,CATd,iBACI,EADJ,cAWI,uEACI,CAAC,CADL,EAEI,CAAC,CAFL,EAGI,KAAK,CAHT,GAII,MAAM,CAJV,GAKI,EAAE,CALN,EAMI,EAAE,CANN,EAOI,MAAM,CAPV,WAQI,IAAI,CARR,mBAXJ,WAWI,EAXJ,cAsBI,oFAAqB,CAAC,CAAED,CAAC,CAAGF,EAAE,CAA9B,EAAoC,CAAC,CAAEE,CAAC,CAAGC,EAAE,CAA7C,IACKV,MAAM,UAxBnB,QAuBQ,CAtBJ,CADJ,CA4BH","sources":["webpack://jacdac-docs/./src/components/dashboard/DashboardSolenoid.tsx"],"sourcesContent":["import React from \"react\"\nimport { DashboardServiceProps } from \"./DashboardServiceWidget\"\nimport { useRegisterBoolValue } from \"../../jacdac/useRegisterValue\"\nimport SvgWidget from \"../widgets/SvgWidget\"\nimport useWidgetTheme from \"../widgets/useWidgetTheme\"\nimport { SolenoidReg } from \"../../../jacdac-ts/src/jdom/constants\"\nimport useThrottledValue from \"../hooks/useThrottledValue\"\nimport useSvgButtonProps from \"../hooks/useSvgButtonProps\"\nimport useServiceServer from \"../hooks/useServiceServer\"\nimport useRegister from \"../hooks/useRegister\"\n\nexport default function DashboardSolenoid(props: DashboardServiceProps) {\n    const { service } = props\n    const pulledRegister = useRegister(service, SolenoidReg.Pulled)\n    const pulled = useRegisterBoolValue(pulledRegister, props)\n    const server = useServiceServer(service)\n    const color = server ? \"secondary\" : \"primary\"\n    const { active, background, controlBackground, textProps } =\n        useWidgetTheme(color)\n\n    const w = 128\n    const bw = 84\n    const h = 72\n    const m = 6\n    const bh = h - 2 * m\n    const bsh = bh - 6 * m\n\n    const pos = useThrottledValue(pulled ? m : w - bw - 2 * m, w)\n    const label = pulled ? \"pull solenoid\" : \"push solenoid\"\n\n    const onToggle = (ev: React.PointerEvent) => {\n        server?.register(SolenoidReg.Pulled)?.setValues([!pulled ? 1 : 0])\n        pulledRegister.refresh()\n    }\n\n    const buttonProps = useSvgButtonProps<SVGRectElement>(\n        label,\n        !!server && onToggle\n    )\n\n    return (\n        <SvgWidget width={w} height={h} background={background}>\n            <rect\n                x={m + pos}\n                y={m + (bh - bsh) / 2}\n                width={bw}\n                height={bsh}\n                rx={m}\n                ry={m}\n                fill={active}\n                stroke={controlBackground}\n            />\n            <rect\n                x={m}\n                y={m}\n                width={bw}\n                height={bh}\n                rx={m}\n                ry={m}\n                stroke={background}\n                fill={controlBackground}\n                {...buttonProps}\n            />\n            <text {...textProps} x={m + bw / 2} y={m + bh / 2}>\n                {pulled ? \"pulled\" : \"pushed\"}\n            </text>\n        </SvgWidget>\n    )\n}\n"],"names":["pulledRegister","useRegister","SolenoidReg","pulled","useRegisterBoolValue","server","useServiceServer","color","useWidgetTheme","w","bw","h","m","bh","bsh","pos","useThrottledValue","label","onToggle","ev","buttonProps","useSvgButtonProps"],"sourceRoot":""}