{"version":3,"file":"560-416b8a6c75f24d3898c0.js","mappings":"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","sources":["webpack://jacdac-docs/./src/components/enclosure/Enclosure.tsx","webpack://jacdac-docs/./src/components/enclosure/ec30.ts"],"sourcesContent":["import React, { lazy } from \"react\"\nimport { useMemo } from \"react\"\nimport Alert from \"../ui/Alert\"\nimport Suspense from \"../ui/Suspense\"\nimport { DEFAULT_OPTIONS, shapeToEC30 } from \"./ec30\"\n\nconst EnclosureGenerator = lazy(() => import(\"../enclosure/EnclosureGenerator\"))\n\nexport default function Enclosure(props: {\n    shape: jdspec.Shape\n    depth?: number\n    showSave?: boolean\n}) {\n    const { shape, depth, showSave } = props\n    const options = DEFAULT_OPTIONS\n    const model = useMemo(() => shapeToEC30(shape, depth), [shape, depth])\n    if (!model)\n        return <Alert severity=\"info\">PCB form factor is not supported.</Alert>\n\n    return (\n        <Suspense>\n            <EnclosureGenerator\n                model={model}\n                options={options}\n                hideAfterGenerated={true}\n                showSave={showSave}\n            />\n        </Suspense>\n    )\n}\n","import type {\n    EnclosureModel,\n    EnclosureOptions,\n} from \"../../workers/cad/dist/node_modules/enclosurecad\"\n\nexport const DEFAULT_OPTIONS: EnclosureOptions = {\n    legs: {\n        type: \"well\",\n    },\n    cover: {},\n}\n\nexport function isEC30(shape: jdspec.Shape) {\n    return typeof shape === \"string\" && /^ec30_/.test(shape)\n}\n\nexport function toEC30(gridWidth: number, gridHeight: number, connectors = \"\") {\n    return `ec30_${gridWidth}x${gridHeight}_${connectors}`\n}\n\nexport function generateEC30EnclosureModel(\n    gridWidth: number,\n    gridHeight: number,\n    connectors = \"\",\n    depth = 6\n): EnclosureModel {\n    const width = gridWidth * 10\n    const height = gridHeight * 10\n    const c = 8\n    const boxWidth = width + c\n    const boxHeight = height + c\n    return {\n        name: `${width}x${height}`,\n        grid: {\n            width: gridWidth,\n            height: gridHeight,\n            connectors,\n        },\n        box: {\n            width: boxWidth,\n            height: boxHeight,\n            depth,\n        },\n        rings: [\n            {\n                x: width >> 1,\n                y: height >> 1,\n            },\n            {\n                x: width >> 1,\n                y: -(height >> 1),\n            },\n            {\n                x: -(width >> 1),\n                y: -(height >> 1),\n            },\n            {\n                x: -(width >> 1),\n                y: height >> 1,\n            },\n        ],\n        components: [\n            {\n                x: -(width >> 1) + 1.5,\n                y: 0,\n                type: \"led\",\n            },\n            {\n                x: (width >> 1) - 1.5,\n                y: 0,\n                type: \"led\",\n            },\n            {\n                x: 0,\n                y: -(height >> 1) + 1.5,\n                type: \"led\",\n            },\n            {\n                x: 0,\n                y: (height >> 1) - 1.5,\n                type: \"led\",\n            },\n        ],\n        connectors: [\n            {\n                x: 0,\n                y: -(width >> 1) + 2,\n                dir: \"bottom\",\n                type: \"jacdac\",\n            },\n            {\n                x: 0,\n                y: (width >> 1) - 2,\n                dir: \"top\",\n                type: \"jacdac\",\n            },\n            {\n                x: -(width >> 1) + 2,\n                y: 0,\n                dir: \"left\",\n                type: \"jacdac\",\n            },\n            {\n                x: (width >> 1) - 2,\n                y: 0,\n                dir: \"right\",\n                type: \"jacdac\",\n            },\n        ],\n    }\n}\n\nexport function shapeToEC30(shape: jdspec.Shape, depth = 7) {\n    if (typeof shape === \"string\") {\n        const m = /^ec30_(\\d+)x(\\d+)_([lrup\\d]+)$/.exec(shape)\n        if (m) {\n            const w = Number(m[1])\n            const h = Number(m[2])\n            const c = m[3]\n            return generateEC30EnclosureModel(w, h, c, depth)\n        }\n    }\n    return undefined\n}\n"],"names":["EnclosureGenerator","lazy","options","model","useMemo","shapeToEC30","DEFAULT_OPTIONS","legs","type","cover","connectors","depth","width","gridWidth","height","gridHeight","c","boxWidth","boxHeight","name","grid","box","rings","x","y","components","dir","m","w","Number","h","generateEC30EnclosureModel"],"sourceRoot":""}