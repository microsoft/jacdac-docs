"use strict";
(self["webpackChunkjacdac_docs"] = self["webpackChunkjacdac_docs"] || []).push([[8814,4300],{

/***/ 96540:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
}), 'Add');
exports.Z = _default;

/***/ }),

/***/ 41733:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
}), 'Delete');
exports.Z = _default;

/***/ }),

/***/ 77957:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"
}), 'Edit');
exports.Z = _default;

/***/ }),

/***/ 82019:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("circle", {
  cx: "12",
  cy: "12",
  r: "8"
}), 'FiberManualRecord');
exports.Z = _default;

/***/ }),

/***/ 70486:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5-4-4V4h8v3.5l-4 4z"
}), 'HourglassEmpty');
exports.Z = _default;

/***/ }),

/***/ 52900:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"
}), 'OpenInBrowser');
exports.Z = _default;

/***/ }),

/***/ 70655:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M8 5v14l11-7z"
}), 'PlayArrow');
exports.Z = _default;

/***/ }),

/***/ 12177:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"
}), 'SaveAlt');
exports.Z = _default;

/***/ }),

/***/ 25195:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M6 6h12v12H6z"
}), 'Stop');
exports.Z = _default;

/***/ }),

/***/ 42643:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ CardContent_CardContent; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js
var esm_extends = __webpack_require__(87462);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
var objectWithoutPropertiesLoose = __webpack_require__(63366);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.m.js
var clsx_m = __webpack_require__(86010);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/composeClasses/composeClasses.js
var composeClasses = __webpack_require__(94780);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js
var styled = __webpack_require__(90948);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/useThemeProps.js
var useThemeProps = __webpack_require__(71657);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js
var generateUtilityClasses = __webpack_require__(1588);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js
var generateUtilityClass = __webpack_require__(34867);
;// CONCATENATED MODULE: ./node_modules/@mui/material/CardContent/cardContentClasses.js


function getCardContentUtilityClass(slot) {
  return (0,generateUtilityClass/* default */.Z)('MuiCardContent', slot);
}
const cardContentClasses = (0,generateUtilityClasses/* default */.Z)('MuiCardContent', ['root']);
/* harmony default export */ var CardContent_cardContentClasses = ((/* unused pure expression or super */ null && (cardContentClasses)));
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
;// CONCATENATED MODULE: ./node_modules/@mui/material/CardContent/CardContent.js


const _excluded = ["className", "component"];








const useUtilityClasses = ownerState => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ['root']
  };
  return (0,composeClasses/* default */.Z)(slots, getCardContentUtilityClass, classes);
};
const CardContentRoot = (0,styled/* default */.ZP)('div', {
  name: 'MuiCardContent',
  slot: 'Root',
  overridesResolver: (props, styles) => styles.root
})(() => {
  return {
    padding: 16,
    '&:last-child': {
      paddingBottom: 24
    }
  };
});
const CardContent = /*#__PURE__*/react.forwardRef(function CardContent(inProps, ref) {
  const props = (0,useThemeProps/* default */.Z)({
    props: inProps,
    name: 'MuiCardContent'
  });
  const {
      className,
      component = 'div'
    } = props,
    other = (0,objectWithoutPropertiesLoose/* default */.Z)(props, _excluded);
  const ownerState = (0,esm_extends/* default */.Z)({}, props, {
    component
  });
  const classes = useUtilityClasses(ownerState);
  return /*#__PURE__*/(0,jsx_runtime.jsx)(CardContentRoot, (0,esm_extends/* default */.Z)({
    as: component,
    className: (0,clsx_m/* default */.Z)(classes.root, className),
    ownerState: ownerState,
    ref: ref
  }, other));
});
 false ? 0 : void 0;
/* harmony default export */ var CardContent_CardContent = (CardContent);

/***/ }),

/***/ 88979:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ DialogActions_DialogActions; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
var objectWithoutPropertiesLoose = __webpack_require__(63366);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js
var esm_extends = __webpack_require__(87462);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.m.js
var clsx_m = __webpack_require__(86010);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/composeClasses/composeClasses.js
var composeClasses = __webpack_require__(94780);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js
var styled = __webpack_require__(90948);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/useThemeProps.js
var useThemeProps = __webpack_require__(71657);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js
var generateUtilityClasses = __webpack_require__(1588);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js
var generateUtilityClass = __webpack_require__(34867);
;// CONCATENATED MODULE: ./node_modules/@mui/material/DialogActions/dialogActionsClasses.js


function getDialogActionsUtilityClass(slot) {
  return (0,generateUtilityClass/* default */.Z)('MuiDialogActions', slot);
}
const dialogActionsClasses = (0,generateUtilityClasses/* default */.Z)('MuiDialogActions', ['root', 'spacing']);
/* harmony default export */ var DialogActions_dialogActionsClasses = ((/* unused pure expression or super */ null && (dialogActionsClasses)));
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
;// CONCATENATED MODULE: ./node_modules/@mui/material/DialogActions/DialogActions.js


const _excluded = ["className", "disableSpacing"];








const useUtilityClasses = ownerState => {
  const {
    classes,
    disableSpacing
  } = ownerState;
  const slots = {
    root: ['root', !disableSpacing && 'spacing']
  };
  return (0,composeClasses/* default */.Z)(slots, getDialogActionsUtilityClass, classes);
};
const DialogActionsRoot = (0,styled/* default */.ZP)('div', {
  name: 'MuiDialogActions',
  slot: 'Root',
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    return [styles.root, !ownerState.disableSpacing && styles.spacing];
  }
})(({
  ownerState
}) => (0,esm_extends/* default */.Z)({
  display: 'flex',
  alignItems: 'center',
  padding: 8,
  justifyContent: 'flex-end',
  flex: '0 0 auto'
}, !ownerState.disableSpacing && {
  '& > :not(:first-of-type)': {
    marginLeft: 8
  }
}));
const DialogActions = /*#__PURE__*/react.forwardRef(function DialogActions(inProps, ref) {
  const props = (0,useThemeProps/* default */.Z)({
    props: inProps,
    name: 'MuiDialogActions'
  });
  const {
      className,
      disableSpacing = false
    } = props,
    other = (0,objectWithoutPropertiesLoose/* default */.Z)(props, _excluded);
  const ownerState = (0,esm_extends/* default */.Z)({}, props, {
    disableSpacing
  });
  const classes = useUtilityClasses(ownerState);
  return /*#__PURE__*/(0,jsx_runtime.jsx)(DialogActionsRoot, (0,esm_extends/* default */.Z)({
    className: (0,clsx_m/* default */.Z)(classes.root, className),
    ownerState: ownerState,
    ref: ref
  }, other));
});
 false ? 0 : void 0;
/* harmony default export */ var DialogActions_DialogActions = (DialogActions);

/***/ }),

/***/ 56408:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ DialogContentText_DialogContentText; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
var objectWithoutPropertiesLoose = __webpack_require__(63366);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js
var esm_extends = __webpack_require__(87462);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.m.js
var clsx_m = __webpack_require__(86010);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/composeClasses/composeClasses.js
var composeClasses = __webpack_require__(94780);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js
var styled = __webpack_require__(90948);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/useThemeProps.js
var useThemeProps = __webpack_require__(71657);
// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules
var Typography = __webpack_require__(2658);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js
var generateUtilityClasses = __webpack_require__(1588);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js
var generateUtilityClass = __webpack_require__(34867);
;// CONCATENATED MODULE: ./node_modules/@mui/material/DialogContentText/dialogContentTextClasses.js


function getDialogContentTextUtilityClass(slot) {
  return (0,generateUtilityClass/* default */.Z)('MuiDialogContentText', slot);
}
const dialogContentTextClasses = (0,generateUtilityClasses/* default */.Z)('MuiDialogContentText', ['root']);
/* harmony default export */ var DialogContentText_dialogContentTextClasses = ((/* unused pure expression or super */ null && (dialogContentTextClasses)));
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
;// CONCATENATED MODULE: ./node_modules/@mui/material/DialogContentText/DialogContentText.js


const _excluded = ["children", "className"];









const useUtilityClasses = ownerState => {
  const {
    classes
  } = ownerState;
  const slots = {
    root: ['root']
  };
  const composedClasses = (0,composeClasses/* default */.Z)(slots, getDialogContentTextUtilityClass, classes);
  return (0,esm_extends/* default */.Z)({}, classes, composedClasses);
};
const DialogContentTextRoot = (0,styled/* default */.ZP)(Typography/* default */.Z, {
  shouldForwardProp: prop => (0,styled/* rootShouldForwardProp */.FO)(prop) || prop === 'classes',
  name: 'MuiDialogContentText',
  slot: 'Root',
  overridesResolver: (props, styles) => styles.root
})({});
const DialogContentText = /*#__PURE__*/react.forwardRef(function DialogContentText(inProps, ref) {
  const props = (0,useThemeProps/* default */.Z)({
    props: inProps,
    name: 'MuiDialogContentText'
  });
  const {
      className
    } = props,
    ownerState = (0,objectWithoutPropertiesLoose/* default */.Z)(props, _excluded);
  const classes = useUtilityClasses(ownerState);
  return /*#__PURE__*/(0,jsx_runtime.jsx)(DialogContentTextRoot, (0,esm_extends/* default */.Z)({
    component: "p",
    variant: "body1",
    color: "text.secondary",
    ref: ref,
    ownerState: ownerState,
    className: (0,clsx_m/* default */.Z)(classes.root, className)
  }, props, {
    classes: classes
  }));
});
 false ? 0 : void 0;
/* harmony default export */ var DialogContentText_DialogContentText = (DialogContentText);

/***/ }),

/***/ 35097:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "V": function() { return /* binding */ getDividerUtilityClass; }
/* harmony export */ });
/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1588);
/* harmony import */ var _generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(34867);


function getDividerUtilityClass(slot) {
  return (0,_generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)('MuiDivider', slot);
}
const dividerClasses = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)('MuiDivider', ['root', 'absolute', 'fullWidth', 'inset', 'middle', 'flexItem', 'light', 'vertical', 'withChildren', 'withChildrenVertical', 'textAlignRight', 'textAlignLeft', 'wrapper', 'wrapperVertical']);
/* harmony default export */ __webpack_exports__["Z"] = (dividerClasses);

/***/ }),

/***/ 80270:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ InputAdornment_InputAdornment; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
var objectWithoutPropertiesLoose = __webpack_require__(63366);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js
var esm_extends = __webpack_require__(87462);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.m.js
var clsx_m = __webpack_require__(86010);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/composeClasses/composeClasses.js
var composeClasses = __webpack_require__(94780);
// EXTERNAL MODULE: ./node_modules/@mui/material/utils/capitalize.js
var capitalize = __webpack_require__(98216);
// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules
var Typography = __webpack_require__(2658);
// EXTERNAL MODULE: ./node_modules/@mui/material/FormControl/FormControlContext.js
var FormControlContext = __webpack_require__(47167);
// EXTERNAL MODULE: ./node_modules/@mui/material/FormControl/useFormControl.js
var useFormControl = __webpack_require__(74423);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js
var styled = __webpack_require__(90948);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js
var generateUtilityClasses = __webpack_require__(1588);
// EXTERNAL MODULE: ./node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js
var generateUtilityClass = __webpack_require__(34867);
;// CONCATENATED MODULE: ./node_modules/@mui/material/InputAdornment/inputAdornmentClasses.js


function getInputAdornmentUtilityClass(slot) {
  return (0,generateUtilityClass/* default */.Z)('MuiInputAdornment', slot);
}
const inputAdornmentClasses = (0,generateUtilityClasses/* default */.Z)('MuiInputAdornment', ['root', 'filled', 'standard', 'outlined', 'positionStart', 'positionEnd', 'disablePointerEvents', 'hiddenLabel', 'sizeSmall']);
/* harmony default export */ var InputAdornment_inputAdornmentClasses = (inputAdornmentClasses);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/useThemeProps.js
var useThemeProps = __webpack_require__(71657);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(85893);
;// CONCATENATED MODULE: ./node_modules/@mui/material/InputAdornment/InputAdornment.js


var _span;
const _excluded = ["children", "className", "component", "disablePointerEvents", "disableTypography", "position", "variant"];













const overridesResolver = (props, styles) => {
  const {
    ownerState
  } = props;
  return [styles.root, styles[`position${(0,capitalize/* default */.Z)(ownerState.position)}`], ownerState.disablePointerEvents === true && styles.disablePointerEvents, styles[ownerState.variant]];
};
const useUtilityClasses = ownerState => {
  const {
    classes,
    disablePointerEvents,
    hiddenLabel,
    position,
    size,
    variant
  } = ownerState;
  const slots = {
    root: ['root', disablePointerEvents && 'disablePointerEvents', position && `position${(0,capitalize/* default */.Z)(position)}`, variant, hiddenLabel && 'hiddenLabel', size && `size${(0,capitalize/* default */.Z)(size)}`]
  };
  return (0,composeClasses/* default */.Z)(slots, getInputAdornmentUtilityClass, classes);
};
const InputAdornmentRoot = (0,styled/* default */.ZP)('div', {
  name: 'MuiInputAdornment',
  slot: 'Root',
  overridesResolver
})(({
  theme,
  ownerState
}) => (0,esm_extends/* default */.Z)({
  display: 'flex',
  height: '0.01em',
  // Fix IE11 flexbox alignment. To remove at some point.
  maxHeight: '2em',
  alignItems: 'center',
  whiteSpace: 'nowrap',
  color: (theme.vars || theme).palette.action.active
}, ownerState.variant === 'filled' && {
  // Styles applied to the root element if `variant="filled"`.
  [`&.${InputAdornment_inputAdornmentClasses.positionStart}&:not(.${InputAdornment_inputAdornmentClasses.hiddenLabel})`]: {
    marginTop: 16
  }
}, ownerState.position === 'start' && {
  // Styles applied to the root element if `position="start"`.
  marginRight: 8
}, ownerState.position === 'end' && {
  // Styles applied to the root element if `position="end"`.
  marginLeft: 8
}, ownerState.disablePointerEvents === true && {
  // Styles applied to the root element if `disablePointerEvents={true}`.
  pointerEvents: 'none'
}));
const InputAdornment = /*#__PURE__*/react.forwardRef(function InputAdornment(inProps, ref) {
  const props = (0,useThemeProps/* default */.Z)({
    props: inProps,
    name: 'MuiInputAdornment'
  });
  const {
      children,
      className,
      component = 'div',
      disablePointerEvents = false,
      disableTypography = false,
      position,
      variant: variantProp
    } = props,
    other = (0,objectWithoutPropertiesLoose/* default */.Z)(props, _excluded);
  const muiFormControl = (0,useFormControl/* default */.Z)() || {};
  let variant = variantProp;
  if (variantProp && muiFormControl.variant) {
    if (false) {}
  }
  if (muiFormControl && !variant) {
    variant = muiFormControl.variant;
  }
  const ownerState = (0,esm_extends/* default */.Z)({}, props, {
    hiddenLabel: muiFormControl.hiddenLabel,
    size: muiFormControl.size,
    disablePointerEvents,
    position,
    variant
  });
  const classes = useUtilityClasses(ownerState);
  return /*#__PURE__*/(0,jsx_runtime.jsx)(FormControlContext/* default.Provider */.Z.Provider, {
    value: null,
    children: /*#__PURE__*/(0,jsx_runtime.jsx)(InputAdornmentRoot, (0,esm_extends/* default */.Z)({
      as: component,
      ownerState: ownerState,
      className: (0,clsx_m/* default */.Z)(classes.root, className),
      ref: ref
    }, other, {
      children: typeof children === 'string' && !disableTypography ? /*#__PURE__*/(0,jsx_runtime.jsx)(Typography/* default */.Z, {
        color: "text.secondary",
        children: children
      }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {
        children: [position === 'start' ? /* notranslate needed while Google Translate will not fix zero-width space issue */_span || (_span = /*#__PURE__*/(0,jsx_runtime.jsx)("span", {
          className: "notranslate",
          children: "\u200B"
        })) : null, children]
      })
    }))
  });
});
 false ? 0 : void 0;
/* harmony default export */ var InputAdornment_InputAdornment = (InputAdornment);

/***/ }),

/***/ 26336:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "L": function() { return /* binding */ getListItemTextUtilityClass; }
/* harmony export */ });
/* harmony import */ var _mui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1588);
/* harmony import */ var _generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(34867);


function getListItemTextUtilityClass(slot) {
  return (0,_generateUtilityClass__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)('MuiListItemText', slot);
}
const listItemTextClasses = (0,_mui_utils__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)('MuiListItemText', ['root', 'multiline', 'dense', 'inset', 'primary', 'secondary']);
/* harmony default export */ __webpack_exports__["Z"] = (listItemTextClasses);

/***/ }),

/***/ 67489:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "F": function() { return /* binding */ SensorAggregatorClient; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(15861);
/* harmony import */ var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(94578);
/* harmony import */ var _jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36807);
/* harmony import */ var _jdom_buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(98172);
/* harmony import */ var _jdom_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3964);
/* harmony import */ var _jdom_pack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(71670);
/* harmony import */ var _jdom_serviceclient__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(52102);
/* harmony import */ var _jdom_spec__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(62070);
/* harmony import */ var _jdom_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(46196);
/**
 * A client for the sensor aggregator service
 * @category Clients
 */var SensorAggregatorClient=/*#__PURE__*/function(_JDServiceClient){(0,_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(SensorAggregatorClient,_JDServiceClient);function SensorAggregatorClient(service){var _this;_this=_JDServiceClient.call(this,service)||this;(0,_jdom_utils__WEBPACK_IMPORTED_MODULE_6__/* .assert */ .hu)(service.serviceClass===_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SRV_SENSOR_AGGREGATOR */ .x12);_this.service.registersUseAcks=true;return _this;}var _proto=SensorAggregatorClient.prototype;_proto.setInputs=/*#__PURE__*/function(){var _setInputs=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(function*(cfg){var _cfg$inputs;function error(msg){throw new Error("Aggregator inputs: "+msg);}function mapType(tp){switch(tp){case 1:return _jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorSampleType.U8 */ .HEd.U8;case 2:return _jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorSampleType.U16 */ .HEd.U16;case 4:return _jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorSampleType.U32 */ .HEd.U32;case-1:return _jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorSampleType.I8 */ .HEd.I8;case-2:return _jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorSampleType.I16 */ .HEd.I16;case-4:return _jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorSampleType.I32 */ .HEd.I32;default:error("unknown storage type");}}if(!cfg||!cfg.inputs)error("invalid input format");var totalSampleSize=0;var inputs=(_cfg$inputs=cfg.inputs)===null||_cfg$inputs===void 0?void 0:_cfg$inputs.map(input=>{var{deviceId,serviceIndex,serviceClass}=input;if(!!deviceId!==!!serviceIndex)error("deviceId and serviceIndex must be specified together");var specification=(0,_jdom_spec__WEBPACK_IMPORTED_MODULE_5__/* .serviceSpecificationFromClassIdentifier */ .d5)(serviceClass);if(!specification)error("missing specification from service 0x"+serviceClass.toString(16));var freeze=!!deviceId;var readingReg=specification.packets.find(_jdom_spec__WEBPACK_IMPORTED_MODULE_5__/* .isReading */ .vz);if(!readingReg)error("service 0x"+serviceClass.toString(16)+" does not have a reading register");var sampleType=undefined;var sampleSize=0;var sampleShift=0;for(var field of readingReg.fields){sampleSize+=Math.abs(field.storage);if(sampleType===undefined){sampleType=mapType(field.storage);sampleShift=field.shift||0;}if(sampleType!=mapType(field.storage)||sampleShift!=(field.shift||0))error("heterogenous field types");}totalSampleSize+=sampleSize;return (0,_jdom_utils__WEBPACK_IMPORTED_MODULE_6__/* .bufferConcat */ .gX)(freeze?(0,_jdom_utils__WEBPACK_IMPORTED_MODULE_6__/* .fromHex */ .H_)(deviceId):new Uint8Array(8),(0,_jdom_pack__WEBPACK_IMPORTED_MODULE_3__/* .jdpack */ .AV)("u32 u8 u8 u8 i8",[serviceClass,freeze?serviceIndex:0,sampleSize,sampleType,sampleShift]));});if(totalSampleSize>_jdom_constants__WEBPACK_IMPORTED_MODULE_2__/* .JD_SERIAL_MAX_PAYLOAD_SIZE */ .MdP)error("samples won't fit in packet");// u32 is x[4]
inputs.unshift((0,_jdom_pack__WEBPACK_IMPORTED_MODULE_3__/* .jdpack */ .AV)("u16 u16 u32",[cfg.samplingInterval,cfg.samplesInWindow,0]));yield this.service.register(_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorReg.Inputs */ .HUt.Inputs).sendSetAsync((0,_jdom_utils__WEBPACK_IMPORTED_MODULE_6__/* .bufferConcatMany */ .Gb)(inputs));});function setInputs(_x){return _setInputs.apply(this,arguments);}return setInputs;}();_proto.collect=/*#__PURE__*/function(){var _collect=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(function*(numSamples){yield this.service.register(_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorReg.StreamingSamples */ .HUt.StreamingSamples).sendSetPackedAsync([numSamples]);});function collect(_x2){return _collect.apply(this,arguments);}return collect;}();_proto.subscribeSample=function subscribeSample(handler){var reg=this.service.register(_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorReg.CurrentSample */ .HUt.CurrentSample);return this.mount(reg.subscribe(_jdom_constants__WEBPACK_IMPORTED_MODULE_2__/* .REPORT_RECEIVE */ .Gb8,()=>handler((0,_jdom_buffer__WEBPACK_IMPORTED_MODULE_1__/* .bufferToArray */ ._W)(reg.data,_jdom_buffer__WEBPACK_IMPORTED_MODULE_1__/* .NumberFormat.Float32LE */ .y4.Float32LE))));};_proto.getReg=/*#__PURE__*/function(){var _getReg=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(function*(id,f){var reg=this.service.register(id);yield reg.refresh();return f(reg);});function getReg(_x3,_x4){return _getReg.apply(this,arguments);}return getReg;}();_proto.stats=/*#__PURE__*/function(){var _stats=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(function*(){// eslint-disable-next-line @typescript-eslint/no-explicit-any
var info={numSamples:this.getReg(_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorReg.NumSamples */ .HUt.NumSamples,r=>r.intValue),sampleSize:this.getReg(_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .SensorAggregatorReg.SampleSize */ .HUt.SampleSize,r=>r.intValue)};for(var id of Object.keys(info)){info[id]=yield info[id];}return info;});function stats(){return _stats.apply(this,arguments);}return stats;}();return SensorAggregatorClient;}(_jdom_serviceclient__WEBPACK_IMPORTED_MODULE_4__/* .JDServiceClient */ .P);

/***/ }),

/***/ 32589:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "M": function() { return /* binding */ DeviceLostAlert; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3964);
/* harmony import */ var _jacdac_useChange__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63339);
/* harmony import */ var _jacdac_useEventRaised__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(88286);
/* harmony import */ var _ui_Alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(46259);
function DeviceLostAlert(props){var{device}=props;var lost=(0,_jacdac_useEventRaised__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)([_jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_1__/* .LOST */ .XWw,_jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_1__/* .FOUND */ .a6y],device,dev=>!!(dev!==null&&dev!==void 0&&dev.lost));var flashing=(0,_jacdac_useChange__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(device,_=>(_===null||_===void 0?void 0:_.bootloader)||!!(_!==null&&_!==void 0&&_.firmwareUpdater));if(!lost||flashing)return null;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_Alert__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z,{severity:"info"},"Device lost...");}

/***/ }),

/***/ 77775:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ DashboardDevice; }
});

// EXTERNAL MODULE: ./node_modules/@mui/material/Grid/Grid.js + 2 modules
var Grid = __webpack_require__(15725);
// EXTERNAL MODULE: ./node_modules/@mui/material/Paper/Paper.js + 2 modules
var Paper = __webpack_require__(64680);
// EXTERNAL MODULE: ./node_modules/@mui/material/Card/Card.js + 1 modules
var Card = __webpack_require__(65295);
// EXTERNAL MODULE: ./node_modules/@mui/material/CardContent/CardContent.js + 1 modules
var CardContent = __webpack_require__(42643);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/constants.ts
var constants = __webpack_require__(3964);
// EXTERNAL MODULE: ./src/jacdac/useChange.ts
var useChange = __webpack_require__(63339);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
var objectWithoutPropertiesLoose = __webpack_require__(63366);
// EXTERNAL MODULE: ./src/components/dashboard/DashboardServiceWidget.tsx + 17 modules
var DashboardServiceWidget = __webpack_require__(61213);
// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules
var Typography = __webpack_require__(2658);
// EXTERNAL MODULE: ./src/components/services/useStatusCode.ts
var useStatusCode = __webpack_require__(71612);
// EXTERNAL MODULE: ./jacdac-ts/jacdac-spec/dist/specconstants.ts
var specconstants = __webpack_require__(36807);
// EXTERNAL MODULE: ./jacdac-ts/jacdac-spec/spectool/jdspec.ts
var jdspec = __webpack_require__(18763);
// EXTERNAL MODULE: ./src/components/ui/Alert.tsx
var Alert = __webpack_require__(46259);
;// CONCATENATED MODULE: ./src/components/services/StatusCodeAlert.tsx
var _excluded=["service"];var codes={[specconstants/* SRV_WIFI */.zti]:{[specconstants/* SystemStatusCodes.WaitingForInput */._kj.WaitingForInput]:()=>"Waiting for WiFi credentials."}};var severities={[specconstants/* SystemStatusCodes.Sleeping */._kj.Sleeping]:"info",[specconstants/* SystemStatusCodes.Initializing */._kj.Initializing]:"info",[specconstants/* SystemStatusCodes.Calibrating */._kj.Calibrating]:"info"};function StatusCodeAlert(props){var _codes$serviceClass,_codes$serviceClass$c;var{service}=props,rest=(0,objectWithoutPropertiesLoose/* default */.Z)(props,_excluded);var{serviceClass}=service;var{code,vendorCode}=(0,useStatusCode/* default */.Z)(service,rest);if((code===specconstants/* SystemStatusCodes.Ready */._kj.Ready||code===specconstants/* SystemStatusCodes.Sleeping */._kj.Sleeping||code===specconstants/* SystemStatusCodes.Initializing */._kj.Initializing)&&vendorCode===0)return null;var severity=severities[code]||"warning";return/*#__PURE__*/react.createElement(Alert/* default */.Z,{severity:severity},!!code&&/*#__PURE__*/react.createElement(Typography/* default */.Z,{variant:"caption"},(0,jdspec/* humanify */.lW)(((_codes$serviceClass=codes[serviceClass])===null||_codes$serviceClass===void 0?void 0:(_codes$serviceClass$c=_codes$serviceClass[code])===null||_codes$serviceClass$c===void 0?void 0:_codes$serviceClass$c.call(_codes$serviceClass,service))||specconstants/* SystemStatusCodes */._kj[code]||"?")),!!vendorCode&&/*#__PURE__*/react.createElement(Typography/* default */.Z,{variant:"caption"},"vendor error: 0x",vendorCode.toString(16)));}
// EXTERNAL MODULE: ./node_modules/@mui/material/Tooltip/Tooltip.js + 1 modules
var Tooltip = __webpack_require__(14563);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js
var styled = __webpack_require__(90948);
// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 2 modules
var Button = __webpack_require__(76914);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/pretty.ts
var pretty = __webpack_require__(34743);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/utils.ts
var utils = __webpack_require__(46196);
// EXTERNAL MODULE: ./src/components/ui/Suspense.tsx + 2 modules
var Suspense = __webpack_require__(19811);
// EXTERNAL MODULE: ./src/components/services/useRoleManagerClient.ts
var useRoleManagerClient = __webpack_require__(23239);
// EXTERNAL MODULE: ./src/jacdac/useEventRaised.ts
var useEventRaised = __webpack_require__(88286);
;// CONCATENATED MODULE: ./src/components/services/useServiceRole.ts
function useServiceRole(service){return (0,useEventRaised/* default */.Z)(constants/* ROLE_CHANGE */.X5h,service,_=>_===null||_===void 0?void 0:_.role);}
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/rolemanager.ts
var rolemanager = __webpack_require__(97031);
;// CONCATENATED MODULE: ./src/components/services/ServiceRole.tsx
var SelectRoleDialog=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(317), __webpack_require__.e(4097)]).then(__webpack_require__.bind(__webpack_require__, 64097)));var MAX_NAME_LENGTH=20;var RoleButton=(0,styled/* default */.ZP)(Button/* default */.Z)({textTransform:"none"});function ServiceRole(props){var{service}=props;var{0:showSelectRoleDialog,1:setShowSelectRoleDialog}=(0,react.useState)(false);var roleManager=(0,useRoleManagerClient/* default */.Z)();var role=useServiceRole(service);var handleOpen=()=>setShowSelectRoleDialog(true);var handleClose=()=>setShowSelectRoleDialog(false);var hasRoleForService=(0,useChange/* default */.Z)(roleManager,_=>_===null||_===void 0?void 0:_.hasRoleForService(service),[service]);// hide if no role manager or role not compatible with required roles
if(!hasRoleForService)return null;var name=(0,pretty/* isDeviceId */.fo)(role)?(0,pretty/* shortDeviceId */.xV)(role):(0,utils/* ellipse */.hr)((0,rolemanager/* escapeRoleName */.Z1)(role),MAX_NAME_LENGTH)||"...";return/*#__PURE__*/react.createElement(react.Fragment,null,/*#__PURE__*/react.createElement(RoleButton,{title:role||"Choose role for service",size:"small",onClick:handleOpen},name),showSelectRoleDialog&&/*#__PURE__*/react.createElement(Suspense/* default */.Z,null,/*#__PURE__*/react.createElement(SelectRoleDialog,{service:service,onClose:handleClose})));}
// EXTERNAL MODULE: ./src/components/services/useInstanceName.ts
var useInstanceName = __webpack_require__(28709);
// EXTERNAL MODULE: ./src/components/ui/IconButtonWithTooltip.tsx + 1 modules
var IconButtonWithTooltip = __webpack_require__(48147);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Edit.js
var Edit = __webpack_require__(77957);
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardServiceWidgetItemHeader.tsx
var DashboardServiceWidgetItemHeader_excluded=["service","expanded","toggleExpanded"];function DashboardServiceWidgetItemHeader(props){var{service,expanded,toggleExpanded}=props,rest=(0,objectWithoutPropertiesLoose/* default */.Z)(props,DashboardServiceWidgetItemHeader_excluded);var{serviceClass}=service;var instanceName=(0,useInstanceName/* default */.Z)(service,rest);var icon=(0,DashboardServiceWidget/* dashboardServiceIcon */.I7)(serviceClass);var iconProps={titleAccess:(0,pretty/* serviceName */.HV)(serviceClass),color:"disabled"};return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,spacing:1,alignItems:"center"},icon&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Tooltip/* default */.Z,{title:(0,pretty/* serviceName */.HV)(serviceClass)},/*#__PURE__*/react.createElement(react.Suspense,{fallback:null},/*#__PURE__*/(0,react.createElement)(icon,iconProps)))),/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:true},/*#__PURE__*/react.createElement(ServiceRole,{service:service})),instanceName&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Typography/* default */.Z,{className:"no-pointer-events",variant:"caption",component:"span",style:{float:"right"}},instanceName)),expanded!==undefined&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{size:"small",title:expanded?"Hide configuration":"Show configuration",onClick:toggleExpanded},/*#__PURE__*/react.createElement(Edit/* default */.Z,null)))));}
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardServiceWidgetItem.tsx
var DashboardServiceWidgetItem_excluded=["service","controlled"];function DashboardServiceWidgetItem(props){var{service,controlled}=props,rest=(0,objectWithoutPropertiesLoose/* default */.Z)(props,DashboardServiceWidgetItem_excluded);var{serviceClass}=service;var expandable=props.expandable||(0,DashboardServiceWidget/* isExpandableView */.sO)(serviceClass);var{0:expanded,1:setExpanded}=(0,react.useState)(!controlled&&expandable?false:undefined);var statusCodeAlert=/*#__PURE__*/react.createElement(StatusCodeAlert,Object.assign({service:service},rest));var toggleExpanded=()=>setExpanded(e=>!e);(0,react.useEffect)(()=>{setExpanded(!controlled&&expandable?false:undefined);},[controlled,expandable]);return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(DashboardServiceWidgetItemHeader,Object.assign({},props,{expanded:expanded,toggleExpanded:toggleExpanded})),statusCodeAlert,/*#__PURE__*/react.createElement(DashboardServiceWidget/* default */.ZP,Object.assign({},props,{expanded:expanded})));}
// EXTERNAL MODULE: ./src/components/devices/useDeviceName.ts
var useDeviceName = __webpack_require__(83100);
;// CONCATENATED MODULE: ./src/components/hooks/useIntersectionObserver.ts
function useIntersectionObserver(elementRef,options){var{0:entry,1:setEntry}=(0,react.useState)();var{threshold=0,root=null,rootMargin="0%",freezeOnceVisible}=options||{};var frozen=(entry===null||entry===void 0?void 0:entry.isIntersecting)&&freezeOnceVisible;var updateEntry=_ref=>{var[entry]=_ref;setEntry(entry);};(0,react.useEffect)(()=>{var node=elementRef===null||elementRef===void 0?void 0:elementRef.current;// DOM Ref
var hasIOSupport=!!window.IntersectionObserver;if(!hasIOSupport||frozen||!node)return;var observerParams={threshold,root,rootMargin};var observer=new IntersectionObserver(updateEntry,observerParams);//console.log(`observe`, { node })
observer.observe(node);return()=>observer.disconnect();},[elementRef,threshold,root,rootMargin,frozen]);return entry;}
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/eventsource.ts
var eventsource = __webpack_require__(53304);
// EXTERNAL MODULE: ./src/components/alert/DeviceLostAlert.tsx
var DeviceLostAlert = __webpack_require__(32589);
// EXTERNAL MODULE: ./node_modules/@mui/material/CardHeader/CardHeader.js + 1 modules
var CardHeader = __webpack_require__(18515);
// EXTERNAL MODULE: ./src/components/devices/DeviceName.tsx
var DeviceName = __webpack_require__(9400);
// EXTERNAL MODULE: ./src/components/devices/DeviceAvatar.tsx + 1 modules
var DeviceAvatar = __webpack_require__(30841);
// EXTERNAL MODULE: ./src/components/devices/DeviceActions.tsx
var DeviceActions = __webpack_require__(42714);
// EXTERNAL MODULE: ./src/jacdac/useDeviceDescription.ts
var useDeviceDescription = __webpack_require__(69461);
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardDeviceCardHeader.tsx
function DashboardDeviceCardHeader(props){var{device,showAvatar,showReset}=props;var description=(0,useDeviceDescription/* default */.Z)(device);return/*#__PURE__*/react.createElement(CardHeader/* default */.Z,{style:{paddingBottom:0},avatar:showAvatar&&/*#__PURE__*/react.createElement(DeviceAvatar/* default */.Z,{device:device}),action:/*#__PURE__*/react.createElement(DeviceActions/* default */.Z,{device:device,showStop:true,hideIdentity:true,showReset:showReset,showSettings:false}),title:/*#__PURE__*/react.createElement(DeviceName/* default */.Z,{showShortId:false,device:device}),subheader:/*#__PURE__*/react.createElement(react.Fragment,null,description&&/*#__PURE__*/react.createElement(Typography/* default */.Z,{variant:"caption",gutterBottom:true},description))});}
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardDevice.tsx
var DeviceProxyAlert=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 2717).then(__webpack_require__.bind(__webpack_require__, 62717)));var DeviceBootloaderAlert=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 8204).then(__webpack_require__.bind(__webpack_require__, 78204)));var ignoredServices=[constants/* SRV_CONTROL */.gm9,constants/* SRV_LOGGER */.w9j,constants/* SRV_SETTINGS */.B9b,constants/* SRV_PROTO_TEST */.$Bn,constants/* SRV_PROXY */.Ahc,constants/* SRV_INFRASTRUCTURE */.QWn,constants/* SRV_UNIQUE_BRAIN */.U9t];function DashboardDevice(props){var{device,serviceFilter,variant,showAvatar,showHeader,showReset,showDeviceProxyAlert,alwaysVisible,controlled}=props;var name=(0,useDeviceName/* default */.Z)(device);var services=(0,useChange/* default */.Z)(device,_=>_===null||_===void 0?void 0:_.services({specification:true}).filter(service=>ignoredServices.indexOf(service.serviceClass)<0&&!service.isMixin&&(!serviceFilter||serviceFilter(service))));// refresh when visible
var serviceGridRef=(0,react.useRef)();var intersection=useIntersectionObserver(serviceGridRef);var visible=alwaysVisible||!intersection||!!intersection.isIntersecting;var ServiceWidgets=(0,react.useCallback)(()=>/*#__PURE__*/react.createElement(Grid/* default */.ZP,{ref:serviceGridRef,component:"div",container:true,spacing:2,justifyContent:"center",alignItems:"flex-end",alignContent:"space-between"},services===null||services===void 0?void 0:services.map(service=>/*#__PURE__*/react.createElement(DashboardServiceWidgetItem,{key:service.nodeId,service:service,services:services,variant:variant,visible:visible,controlled:controlled}))),[(0,eventsource/* dependencyId */.BX)(services),variant,visible,controlled]);if(!showHeader)return/*#__PURE__*/react.createElement(Paper/* default */.Z,{style:{padding:"0.25em"},variant:"outlined"},/*#__PURE__*/react.createElement(ServiceWidgets,null));return/*#__PURE__*/react.createElement(Card/* default */.Z,{"aria-live":"polite","aria-label":"device "+name+" started"},/*#__PURE__*/react.createElement(DashboardDeviceCardHeader,{device:device,showAvatar:showAvatar,showReset:showReset}),/*#__PURE__*/react.createElement(CardContent/* default */.Z,{style:{paddingTop:0}},/*#__PURE__*/react.createElement(DeviceLostAlert/* DeviceLostAlert */.M,{device:device}),/*#__PURE__*/react.createElement(Suspense/* default */.Z,{fallback:null},/*#__PURE__*/react.createElement(DeviceBootloaderAlert,{device:device})),showDeviceProxyAlert&&/*#__PURE__*/react.createElement(Suspense/* default */.Z,null,/*#__PURE__*/react.createElement(DeviceProxyAlert,{device:device})),/*#__PURE__*/react.createElement(ServiceWidgets,null)));}

/***/ }),

/***/ 73598:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ DashboardDeviceItem; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(63366);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(15725);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _DashboardDevice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(77775);
/* harmony import */ var _jacdac_useChange__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63339);
/* harmony import */ var _DashboardServiceWidget__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(61213);
/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5355);
var _excluded=["device"];function DashboardDeviceItem(props){var{device}=props,other=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(props,_excluded);var{drawerType}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_AppContext__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .ZP);var breakpoints=(0,_jacdac_useChange__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(device,()=>{var breakpointWeight=device.services().map(srv=>{return (0,_DashboardServiceWidget__WEBPACK_IMPORTED_MODULE_3__/* .dashboardServiceWeight */ .o2)(srv)||(srv.readingRegister||srv.valueRegister||srv.intensityRegister?1:0);}).reduce((c,v)=>c+v,0);if(breakpointWeight>3||drawerType!==_AppContext__WEBPACK_IMPORTED_MODULE_4__/* .DrawerType.None */ .jw.None)return{xs:12,sm:12,md:12,lg:6,xl:6};else if(breakpointWeight==3)return{xs:12,sm:12,md:4,lg:4,xl:4};else if(breakpointWeight==2)return{xs:12,sm:6,md:4,lg:3,xl:4};else return{xs:6,sm:4,md:3,lg:2,xl:"auto"};},[drawerType],(a,b)=>a.xs==b.xs&&a.sm==b.sm&&a.md==b.md&&a.sm==b.sm&&a.lg==b.lg&&a.xl==b.xl);// based on size, expanded or reduce widget size
return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .ZP,Object.assign({item:true},breakpoints),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DashboardDevice__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,Object.assign({device:device},other)));}

/***/ }),

/***/ 82312:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ useKeyboardNavigationProps; }
});

// EXTERNAL MODULE: ./src/components/hooks/useFireKey.ts
var useFireKey = __webpack_require__(38846);
;// CONCATENATED MODULE: ./src/components/hooks/useArrowKeys.ts
var PAGE_DOWN=34;var PAGE_UP=33;var HOME=36;var END=35;var LEFT_KEY=37;var UP_KEY=38;var RIGHT_KEY=39;var DOWN_KEY=40;function useArrowKeys(options){var{onLeft,onUp,onRight,onDown,symmetric}=options;if(!onLeft&&!onUp&&!onRight&&!onDown)return undefined;var handlers={[LEFT_KEY]:onLeft,[RIGHT_KEY]:onRight,[UP_KEY]:onUp||symmetric&&onRight,[DOWN_KEY]:onDown||symmetric&&onLeft};return e=>{var charCode=(0,useFireKey/* keyCodeFromEvent */.$)(e);var handler=handlers[charCode];if(handler){e.preventDefault();handler();}};}
;// CONCATENATED MODULE: ./src/components/hooks/useKeyboardNavigation.ts
function useKeyboardNavigation(parentRef,wrap){if(wrap===void 0){wrap=false;}var query='[tabindex="0"]';var onMove=offset=>()=>{var focusable=Array.from((parentRef===null||parentRef===void 0?void 0:parentRef.querySelectorAll(query))||[]);if(focusable.length){var me=focusable.findIndex(f=>f===document.activeElement);// don't wrap
if(!wrap&&(me===0&&offset<0||me===focusable.length-1&&offset>0))return;var next=(me+offset+focusable.length)%focusable.length;focusable[next].focus();}};return onMove;}
;// CONCATENATED MODULE: ./src/components/hooks/useKeyboardNavigationProps.ts
function useKeyboardNavigationProps(parentRef,vertical){var onMove=useKeyboardNavigation(parentRef);var onKeyDown=useArrowKeys({onLeft:!vertical&&onMove(-1),onRight:!vertical&&onMove(1),onDown:vertical&&onMove(1),onUp:vertical&&onMove(-1)});return{onKeyDown:parentRef&&onKeyDown};}

/***/ }),

/***/ 28709:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useInstanceName; }
/* harmony export */ });
/* harmony import */ var _jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3964);
/* harmony import */ var _jacdac_useRegisterValue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9680);
/* harmony import */ var _hooks_useRegister__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22878);
function useInstanceName(service,options){var instanceNameRegister=(0,_hooks_useRegister__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(service,_jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_0__/* .SystemReg.InstanceName */ .ZJq.InstanceName);var[instanceName]=(0,_jacdac_useRegisterValue__WEBPACK_IMPORTED_MODULE_1__/* .useRegisterUnpackedValue */ .Pf)(instanceNameRegister,options);return instanceName;}

/***/ }),

/***/ 23239:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useRoleManagerClient; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3964);
/* harmony import */ var _jacdac_useBus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(26040);
function useRoleManagerClient(){var bus=(0,_jacdac_useBus__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)();var{0:mgr,1:setMgr}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(bus.roleManager);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>bus.subscribe(_jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_1__/* .ROLE_MANAGER_CHANGE */ .kqR,()=>setMgr(bus.roleManager)),[bus]);return mgr;}

/***/ }),

/***/ 71612:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useStatusCode; }
/* harmony export */ });
/* harmony import */ var _jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3964);
/* harmony import */ var _jacdac_useRegisterValue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9680);
/* harmony import */ var _hooks_useRegister__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22878);
function useStatusCode(service,options){var register=(0,_hooks_useRegister__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(service,_jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_0__/* .SystemReg.StatusCode */ .ZJq.StatusCode);var[code=0,vendorCode=0]=(0,_jacdac_useRegisterValue__WEBPACK_IMPORTED_MODULE_1__/* .useRegisterUnpackedValue */ .Pf)(register,options);return{code,vendorCode};}

/***/ }),

/***/ 94597:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ Head; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15785);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var gatsby__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(24503);
/**
 * SEO component that queries for data with
 *  Gatsby's useStaticQuery React hook
 *
 * See: https://www.gatsbyjs.org/docs/use-static-query/
 */function Head(props){var _site$siteMetadata,_data$page,_site$siteMetadata2;var{pageContext,data,description,image,title,meta=[]}=props;var{site}=(0,gatsby__WEBPACK_IMPORTED_MODULE_1__.useStaticQuery)("63159454");var metaTitle=title||(pageContext===null||pageContext===void 0?void 0:pageContext.title)||(site===null||site===void 0?void 0:(_site$siteMetadata=site.siteMetadata)===null||_site$siteMetadata===void 0?void 0:_site$siteMetadata.title);if(!/^(Jacdac|DeviceScript)/i.test(metaTitle))metaTitle="Jacdac - "+metaTitle;var metaDescription=description||(data===null||data===void 0?void 0:(_data$page=data.page)===null||_data$page===void 0?void 0:_data$page.description)||(site===null||site===void 0?void 0:(_site$siteMetadata2=site.siteMetadata)===null||_site$siteMetadata2===void 0?void 0:_site$siteMetadata2.description);return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{key:"title"},metaTitle),[{name:"description",content:metaDescription},{name:"og:image",content:image},{name:"og:title",content:metaTitle},{name:"og:description",content:metaDescription},{name:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:site.siteMetadata.author},{name:"twitter:title",content:title},{name:"twitter:description",content:metaDescription}].concat((0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(meta)).filter(_ref=>{var{content}=_ref;return!!content;}).map(_ref2=>{var{name,content}=_ref2;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("meta",{key:name,name:name,content:content});}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("link",{key:"fontsgoogle",rel:"preconnect",href:"https://fonts.googleapis.com",crossOrigin:"anonymous"}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("link",{key:"gitusercontent",rel:"preconnect",href:"https://raw.githubusercontent.com",crossOrigin:"anonymous"}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("meta",{key:"viewport",name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no"}));}

/***/ }),

/***/ 99834:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ GridHeader; }
/* harmony export */ });
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15725);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(71508);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2658);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(90461);
/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(90948);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(86010);
var PREFIX="GridHeader";var classes={hr:PREFIX+"hr",start:PREFIX+"start"};var StyledGrid=(0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .ZP)(_mui_material__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .ZP)(_ref=>{var{theme}=_ref;return{["& ."+classes.hr]:{background:theme.palette.text.disabled,marginBottom:"unset"},["& ."+classes.start]:{width:theme.spacing(2)}};});function GridHeader(props){var{title,count,variant,action}=props;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledGrid,{item:true,xs:12},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .ZP,{container:true,direction:"row",spacing:1,justifyContent:"center",alignItems:"center"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .ZP,{item:true},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("hr",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(classes.hr,classes.start)})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .ZP,{item:true},action&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z,{component:"span",mr:1},action),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z,{component:"span",variant:variant||"subtitle1"},title),count!==undefined&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z,{component:"span",ml:0.5},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z,{label:count}))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .ZP,{item:true,xs:true},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("hr",{className:classes.hr}))));}

/***/ }),

/***/ 70970:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ SelectWithLabel; }
/* harmony export */ });
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76446);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(27666);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(56036);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(33797);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3460);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
function SelectWithLabel(props){var{sx,label,fullWidth,required,disabled,value,error,placeholder,onChange,onClose,children,helperText,type,none,size}=props;var id=(0,react__WEBPACK_IMPORTED_MODULE_0__.useId)();var labelId=id+"-label";var descrId=id+"-descr";var hasDescr=!!helperText||!!error;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,{fullWidth:fullWidth,variant:"outlined"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z,{id:labelId,key:"label"},required?label+" *":label),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z,{id:id,sx:sx,disabled:disabled,label:label,value:value,error:!!error,fullWidth:true,placeholder:placeholder,type:type,labelId:labelId,"aria-describedby":hasDescr?descrId:undefined,onChange:onChange,onClose:onClose,size:size},none!==undefined&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z,{key:"none",value:""},none),children),hasDescr&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z,{id:descrId},error||helperText));}

/***/ }),

/***/ 44300:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useGridBreakpoints; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5355);
function useGridBreakpoints(itemCount){var{drawerType}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_AppContext__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .ZP);var hasDrawer=drawerType!==_AppContext__WEBPACK_IMPORTED_MODULE_1__/* .DrawerType.None */ .jw.None;if(!drawerType&&itemCount!==undefined){switch(itemCount){case 1:case 2:case 3:return{xs:12,sm:6,md:6,lg:4,xl:4};}}if(hasDrawer)return{xs:12,md:6,sm:6,lg:6,xl:4};else return{xs:12,sm:6,md:4,lg:4,xl:3};}

/***/ }),

/***/ 55754:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Head": function() { return /* binding */ collector_Head; },
  "default": function() { return /* binding */ Collector; },
  "frontmatter": function() { return /* binding */ frontmatter; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(15861);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 5 modules
var toConsumableArray = __webpack_require__(15785);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/@mui/material/Grid/Grid.js + 2 modules
var Grid = __webpack_require__(15725);
// EXTERNAL MODULE: ./node_modules/@mui/material/Card/Card.js + 1 modules
var Card = __webpack_require__(65295);
// EXTERNAL MODULE: ./node_modules/@mui/material/CardActions/CardActions.js + 1 modules
var CardActions = __webpack_require__(49161);
// EXTERNAL MODULE: ./node_modules/@mui/material/Switch/Switch.js + 1 modules
var Switch = __webpack_require__(89149);
// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 2 modules
var Button = __webpack_require__(76914);
// EXTERNAL MODULE: ./node_modules/@mui/material/TextField/TextField.js + 1 modules
var TextField = __webpack_require__(94659);
// EXTERNAL MODULE: ./node_modules/@mui/material/InputAdornment/InputAdornment.js + 1 modules
var InputAdornment = __webpack_require__(80270);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/PlayArrow.js
var PlayArrow = __webpack_require__(70655);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Stop.js
var Stop = __webpack_require__(25195);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Save.js
var Save = __webpack_require__(66818);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/HourglassEmpty.js
var HourglassEmpty = __webpack_require__(70486);
// EXTERNAL MODULE: ./src/components/FieldDataSet.ts
var FieldDataSet = __webpack_require__(47240);
// EXTERNAL MODULE: ./src/components/Trend.tsx
var Trend = __webpack_require__(12145);
// EXTERNAL MODULE: ./src/components/ui/Alert.tsx
var Alert = __webpack_require__(46259);
// EXTERNAL MODULE: ./node_modules/@mui/material/MenuItem/MenuItem.js + 1 modules
var MenuItem = __webpack_require__(33797);
// EXTERNAL MODULE: ./src/components/ui/SelectWithLabel.tsx
var SelectWithLabel = __webpack_require__(70970);
;// CONCATENATED MODULE: ./src/components/select/SelectEvent.tsx
function SelectEvent(props){var{events,eventId,onChange,friendlyName,label}=props;var handleChange=ev=>{onChange(ev.target.value);};return/*#__PURE__*/react.createElement(SelectWithLabel/* default */.Z,{helperText:label||"choose an event",value:eventId,onChange:handleChange,disabled:!(events!==null&&events!==void 0&&events.length),none:"None"},events===null||events===void 0?void 0:events.map(ev=>/*#__PURE__*/react.createElement(MenuItem/* default */.Z,{key:ev.id,value:ev.id},friendlyName?ev.friendlyName:ev.name)));}
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/constants.ts
var constants = __webpack_require__(3964);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/utils.ts
var utils = __webpack_require__(46196);
// EXTERNAL MODULE: ./node_modules/@mui/material/CardHeader/CardHeader.js + 1 modules
var CardHeader = __webpack_require__(18515);
// EXTERNAL MODULE: ./node_modules/@mui/material/CardContent/CardContent.js + 1 modules
var CardContent = __webpack_require__(42643);
// EXTERNAL MODULE: ./node_modules/gatsby-theme-material-ui/index.js
var gatsby_theme_material_ui = __webpack_require__(16821);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/pretty.ts
var pretty = __webpack_require__(34743);
// EXTERNAL MODULE: ./src/components/ServiceManagerContext.tsx + 2 modules
var ServiceManagerContext = __webpack_require__(51188);
// EXTERNAL MODULE: ./src/components/useGridBreakpoints.ts
var useGridBreakpoints = __webpack_require__(44300);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/SaveAlt.js
var SaveAlt = __webpack_require__(12177);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Delete.js
var Delete = __webpack_require__(41733);
// EXTERNAL MODULE: ./src/components/ui/IconButtonWithTooltip.tsx + 1 modules
var IconButtonWithTooltip = __webpack_require__(48147);
;// CONCATENATED MODULE: ./src/components/DataSetGrid.tsx
// tslint:disable-next-line: no-submodule-imports match-default-export-name
// tslint:disable-next-line: no-submodule-imports match-default-export-name
function DataSetGrid(props){var{tables,handleDeleteTable}=props;var{fileStorage}=(0,react.useContext)(ServiceManagerContext/* default */.ZP);var gridBreakpoints=(0,useGridBreakpoints/* default */.Z)(tables===null||tables===void 0?void 0:tables.length);var handleDownload=table=>()=>{var sep=",";var csv=table.toCSV(sep);fileStorage.saveText(table.name+".csv",csv);};var handelDelete=table=>()=>handleDeleteTable(table);return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,spacing:1},tables.map(table=>/*#__PURE__*/react.createElement(Grid/* default */.ZP,Object.assign({item:true},gridBreakpoints,{key:"result"+table.id}),/*#__PURE__*/react.createElement(Card/* default */.Z,null,/*#__PURE__*/react.createElement(CardHeader/* default */.Z,{subheader:table.rows.length+" rows, "+(0,pretty/* prettyDuration */.Xh)(table.duration)}),/*#__PURE__*/react.createElement(CardContent/* default */.Z,null,/*#__PURE__*/react.createElement("div",null,table.headers.join(", ")),/*#__PURE__*/react.createElement(Trend/* default */.Z,{dataSet:table,height:8,mini:true})),/*#__PURE__*/react.createElement(CardActions/* default */.Z,null,/*#__PURE__*/react.createElement(gatsby_theme_material_ui/* Button */.zx,{variant:"contained",color:"primary",startIcon:/*#__PURE__*/react.createElement(SaveAlt/* default */.Z,null),onClick:handleDownload(table)},"Save"),handleDeleteTable&&/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{title:"delete",onClick:handelDelete(table)},/*#__PURE__*/react.createElement(Delete/* default */.Z,null)))))));}
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/FiberManualRecord.js
var FiberManualRecord = __webpack_require__(82019);
// EXTERNAL MODULE: ./src/components/devices/useDeviceName.ts
var useDeviceName = __webpack_require__(83100);
// EXTERNAL MODULE: ./src/components/ui/SwitchWithLabel.tsx
var SwitchWithLabel = __webpack_require__(68320);
;// CONCATENATED MODULE: ./src/components/ReadingFieldGrid.tsx
// tslint:disable-next-line: no-submodule-imports match-default-export-name
function ReadingFieldGridItem(props){var{register,handleRegisterCheck,recording,registerChecked,liveDataSet}=props;var{service}=register;var{device}=service;var gridBreakpoints=(0,useGridBreakpoints/* default */.Z)();var deviceName=(0,useDeviceName/* default */.Z)(device);var handleCheck=()=>handleRegisterCheck(register);return/*#__PURE__*/react.createElement(Grid/* default */.ZP,Object.assign({item:true},gridBreakpoints,{key:"source"+register.id}),/*#__PURE__*/react.createElement(Card/* default */.Z,null,/*#__PURE__*/react.createElement(CardHeader/* default */.Z,{subheader:register.service.name,title:deviceName+"/"+register.name}),/*#__PURE__*/react.createElement(CardContent/* default */.Z,null,register.fields.map(field=>{var _liveDataSet$colorOf;return/*#__PURE__*/react.createElement("span",{key:field.id},/*#__PURE__*/react.createElement(FiberManualRecord/* default */.Z,{fontSize:"large",style:{verticalAlign:"middle",color:registerChecked&&(liveDataSet===null||liveDataSet===void 0?void 0:(_liveDataSet$colorOf=liveDataSet.colorOf(field))===null||_liveDataSet$colorOf===void 0?void 0:_liveDataSet$colorOf[0])||"#ccc"}}),field.name);})),/*#__PURE__*/react.createElement(CardActions/* default */.Z,null,/*#__PURE__*/react.createElement(SwitchWithLabel/* default */.Z,{disabled:recording,onChange:handleCheck,checked:registerChecked,label:"record "+deviceName+"/"+register.name}))));}function ReadingFieldGrid(props){var{readingRegisters,registerIdsChecked,recording,handleRegisterCheck,liveDataSet}=props;return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,spacing:2},readingRegisters.map(register=>{var registerChecked=registerIdsChecked.indexOf(register.id)>-1;return/*#__PURE__*/react.createElement(ReadingFieldGridItem,{key:register.id,register:register,registerChecked:registerChecked,recording:recording,handleRegisterCheck:handleRegisterCheck,liveDataSet:liveDataSet});}));}
// EXTERNAL MODULE: ./src/components/devices/DeviceCardHeader.tsx + 2 modules
var DeviceCardHeader = __webpack_require__(21979);
// EXTERNAL MODULE: ./jacdac-ts/src/clients/sensoraggregatorclient.ts
var sensoraggregatorclient = __webpack_require__(67489);
// EXTERNAL MODULE: ./src/components/useChartPalette.ts
var useChartPalette = __webpack_require__(32900);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/spec.ts + 1 modules
var spec = __webpack_require__(62070);
// EXTERNAL MODULE: ./jacdac-ts/jacdac-spec/dist/specconstants.ts
var specconstants = __webpack_require__(36807);
// EXTERNAL MODULE: ./src/components/hooks/useServices.ts
var useServices = __webpack_require__(73131);
;// CONCATENATED MODULE: ./src/components/hooks/useEvents.ts
function useEvents(options){var{ignoreChange}=options||{};var services=(0,useServices/* default */.Z)(options);var events=(0,utils/* arrayConcatMany */.ue)(services.map(srv=>srv.events));if(ignoreChange)events=events.filter(ev=>ev.code!==specconstants/* SystemEvent.StatusCodeChanged */.nSK.StatusCodeChanged&&ev.code!==specconstants/* SystemEvent.Change */.nSK.Change);return events;}
// EXTERNAL MODULE: ./src/components/hooks/useDevices.ts
var useDevices = __webpack_require__(18891);
// EXTERNAL MODULE: ./src/components/dashboard/DashboardDeviceItem.tsx
var DashboardDeviceItem = __webpack_require__(73598);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Add.js
var Add = __webpack_require__(96540);
// EXTERNAL MODULE: ./src/components/hooks/useLocalStorage.ts
var useLocalStorage = __webpack_require__(10431);
// EXTERNAL MODULE: ./src/components/hooks/useKeyboardNavigationProps.ts + 2 modules
var useKeyboardNavigationProps = __webpack_require__(82312);
// EXTERNAL MODULE: ./src/components/FileSystemContext.tsx + 2 modules
var FileSystemContext = __webpack_require__(56074);
// EXTERNAL MODULE: ./src/jacdac/useChange.ts
var useChange = __webpack_require__(63339);
// EXTERNAL MODULE: ./node_modules/@mui/material/Chip/Chip.js + 2 modules
var Chip = __webpack_require__(90461);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/OpenInBrowser.js
var OpenInBrowser = __webpack_require__(52900);
;// CONCATENATED MODULE: ./src/components/fs/FileSystemChip.tsx
function FileSystemChip(){var{fileSystem,showDirectoryPicker}=(0,FileSystemContext/* default */.ZP)();var root=(0,useChange/* default */.Z)(fileSystem,_=>_===null||_===void 0?void 0:_.root);var handleOpenDirectory=()=>showDirectoryPicker({mode:"readwrite"});var handleCloseDirectory=()=>fileSystem.root=undefined;if(!fileSystem)return null;return/*#__PURE__*/react.createElement(Chip/* default */.Z,{clickable:true,avatar:/*#__PURE__*/react.createElement(OpenInBrowser/* default */.Z,null),label:(root===null||root===void 0?void 0:root.name)||"open directory",onClick:handleOpenDirectory,onDelete:root?handleCloseDirectory:undefined});}
// EXTERNAL MODULE: ./node_modules/@mui/material/Dialog/Dialog.js + 1 modules
var Dialog = __webpack_require__(3838);
// EXTERNAL MODULE: ./node_modules/@mui/material/DialogContent/DialogContent.js + 1 modules
var DialogContent = __webpack_require__(77750);
// EXTERNAL MODULE: ./node_modules/@mui/material/DialogContentText/DialogContentText.js + 1 modules
var DialogContentText = __webpack_require__(56408);
// EXTERNAL MODULE: ./node_modules/@mui/material/DialogActions/DialogActions.js + 1 modules
var DialogActions = __webpack_require__(88979);
;// CONCATENATED MODULE: ./src/components/fs/FileNewFileChip.tsx
function FileNewFileChip(props){var{name:newFileName,content:newFileContent,label,extension}=props;var{fileSystem}=(0,FileSystemContext/* default */.ZP)();var{0:open,1:setOpen}=(0,react.useState)(false);var{0:value,1:setValue}=(0,react.useState)("");var valueId=(0,react.useId)();var handleOpen=()=>{setValue("");setOpen(true);};var handleOk=/*#__PURE__*/function(){var _ref=(0,asyncToGenerator/* default */.Z)(function*(){setOpen(false);var name=value.toLocaleLowerCase().replace(/\s+/g,"");if(newFileName)yield fileSystem.createWorkingDirectory(name,newFileName,newFileContent);else{if(extension)name+="."+extension;var d=fileSystem.workingDirectory||fileSystem.root;var f=yield d.fileAsync(name,{create:true});yield f.write(newFileContent);fileSystem.workingFile=f;}});return function handleOk(){return _ref.apply(this,arguments);};}();var handleCancel=()=>setOpen(false);var handleValueChange=event=>{setValue(event.target.value);};return/*#__PURE__*/react.createElement(react.Fragment,null,/*#__PURE__*/react.createElement(Chip/* default */.Z,{clickable:true,label:label||"new...",icon:/*#__PURE__*/react.createElement(Add/* default */.Z,null),onClick:handleOpen}),/*#__PURE__*/react.createElement(Dialog/* default */.Z,{open:open,fullWidth:true},/*#__PURE__*/react.createElement(DialogContent/* default */.Z,null,/*#__PURE__*/react.createElement(DialogContentText/* default */.Z,null,"Choose a project name"),/*#__PURE__*/react.createElement(TextField/* default */.Z,{id:valueId,value:value,label:"Value",fullWidth:true,onChange:handleValueChange})),/*#__PURE__*/react.createElement(DialogActions/* default */.Z,null,/*#__PURE__*/react.createElement(Button/* default */.Z,{variant:"contained",onClick:handleCancel},"Cancel"),/*#__PURE__*/react.createElement(Button/* default */.Z,{variant:"contained",color:"primary",disabled:!value,onClick:handleOk},"Ok"))));}
;// CONCATENATED MODULE: ./src/components/fs/FileSystemNodeChip.tsx
function FileSystemNodeChip(props){var{node,selected,onClick}=props;var{name}=node;return/*#__PURE__*/react.createElement(Chip/* default */.Z,{clickable:true,label:name.replace(/\.json$/i,""),color:selected?"primary":undefined,onClick:onClick});}
;// CONCATENATED MODULE: ./src/components/fs/FileTabs.tsx
function FileTabs(props){var{newFileName,newFileContent,hideDirectories,hideFiles,directoryFilter,fileFilter,newFileLabel,newFileExtension}=props;var{fileSystem}=(0,FileSystemContext/* default */.ZP)();var root=(0,useChange/* default */.Z)(fileSystem,_=>_===null||_===void 0?void 0:_.root);var workingDirectory=(0,useChange/* default */.Z)(fileSystem,_=>_===null||_===void 0?void 0:_.workingDirectory);var workingFile=(0,useChange/* default */.Z)(fileSystem,_=>_===null||_===void 0?void 0:_.workingFile);var directories=(0,useChange/* default */.Z)(root,_=>{var _$directories;return _===null||_===void 0?void 0:(_$directories=_.directories)===null||_$directories===void 0?void 0:_$directories.filter(d=>!directoryFilter||directoryFilter(d.name));});var files=(0,useChange/* default */.Z)(root,_=>{var _$files;return _===null||_===void 0?void 0:(_$files=_.files)===null||_$files===void 0?void 0:_$files.filter(d=>!fileFilter||fileFilter(d.name));});var gridRef=(0,react.useRef)();var keyboardProps=(0,useKeyboardNavigationProps/* default */.Z)(gridRef.current);var handleDirectorySelected=handle=>()=>fileSystem.workingDirectory=handle;var handleFileSelected=handle=>()=>fileSystem.workingFile=handle;if(!fileSystem)return null;return/*#__PURE__*/react.createElement(Grid/* default */.ZP,Object.assign({ref:gridRef,container:true,spacing:1},keyboardProps),/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(FileSystemChip,null)),root&&newFileContent&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(FileNewFileChip,{name:newFileName,content:newFileContent,label:newFileLabel,extension:newFileExtension})),!hideDirectories&&(directories===null||directories===void 0?void 0:directories.map(node=>/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,key:node.name},/*#__PURE__*/react.createElement(FileSystemNodeChip,{node:node,selected:node===workingDirectory,onClick:handleDirectorySelected(node)})))),!hideFiles&&(files===null||files===void 0?void 0:files.map(node=>/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,key:node.name},/*#__PURE__*/react.createElement(FileSystemNodeChip,{node:node,selected:node===workingFile,onClick:handleFileSelected(node)})))));}
// EXTERNAL MODULE: ./src/components/ui/GridHeader.tsx
var GridHeader = __webpack_require__(99834);
// EXTERNAL MODULE: ./src/components/hooks/useSnackbar.ts
var useSnackbar = __webpack_require__(37862);
// EXTERNAL MODULE: ./src/components/SimulatorsDialogContext.tsx
var SimulatorsDialogContext = __webpack_require__(22268);
// EXTERNAL MODULE: ./src/jacdac/useBus.ts
var useBus = __webpack_require__(26040);
// EXTERNAL MODULE: ./src/components/shell/Head.tsx
var Head = __webpack_require__(94597);
;// CONCATENATED MODULE: ./src/pages/tools/collector.tsx



 // tslint:disable-next-line: no-submodule-imports match-default-export-name

 // tslint:disable-next-line: no-submodule-imports match-default-export-name

 // tslint:disable-next-line: no-submodule-imports match-default-export-name

 // tslint:disable-next-line: no-submodule-imports match-default-export-name



 // tslint:disable-next-line: no-submodule-imports




























var frontmatter = {
  title: "Data Collector",
  description: "Record data from one or many services into files."
};

var collector_Head = props => /*#__PURE__*/react.createElement(Head/* default */.Z, Object.assign({}, props, frontmatter));
var LIVE_HORIZON = 24;

function createDataSet(bus, registers, name, live, palette) {
  var fields = (0,utils/* arrayConcatMany */.ue)(registers.map(reg => reg.fields));
  var colors = fields.map((f, i) => palette[i % palette.length]);
  var set = new FieldDataSet/* default */.ZP(bus, name, fields, colors);
  if (live) set.maxRows = LIVE_HORIZON + 4;
  return set;
}

var COLLECTOR_PREFIX = "jacdac:collector:prefix";
var COLLECTOR_SAMPLING_INTERVAL = "jacdac:collector:samplinginterval";
var COLLECTOR_SAMPLING_DURATION = "jacdac:collector:samplingduration";
var COLLECTOR_START_DELAY = "jacdac:collector:startdelay";
function Collector() {
  var bus = (0,useBus/* default */.Z)();
  var {
    toggleShowDeviceHostsDialog
  } = (0,react.useContext)(SimulatorsDialogContext/* default */.Z);
  var {
    enqueueSnackbar
  } = (0,useSnackbar/* default */.Z)();

  var handleShowStartSimulator = () => toggleShowDeviceHostsDialog({
    sensor: true
  });

  var {
    fileSystem
  } = (0,FileSystemContext/* default */.ZP)();
  var root = (0,useChange/* default */.Z)(fileSystem, _ => _ === null || _ === void 0 ? void 0 : _.root);
  var {
    fileStorage
  } = (0,react.useContext)(ServiceManagerContext/* default */.ZP);
  var {
    0: registerIdsChecked,
    1: setRegisterIdsChecked
  } = (0,react.useState)([]);
  var {
    0: aggregatorId,
    1: setAggregatorId
  } = (0,react.useState)("");
  var {
    0: recording,
    1: setRecording
  } = (0,react.useState)(false);
  var {
    0: tables,
    1: setTables
  } = (0,react.useState)([]);
  var {
    1: setRecordingLength
  } = (0,react.useState)(0);
  var [prefix, setPrefix] = (0,useLocalStorage/* default */.Z)(COLLECTOR_PREFIX, "data");
  var [samplingIntervalDelay, setSamplingIntervalDelay] = (0,useLocalStorage/* default */.Z)(COLLECTOR_SAMPLING_INTERVAL, 100);
  var [samplingDuration, setSamplingDuration] = (0,useLocalStorage/* default */.Z)(COLLECTOR_SAMPLING_DURATION, 10);
  var [startDelay, setStartDelay] = (0,useLocalStorage/* default */.Z)(COLLECTOR_START_DELAY, 0);
  var {
    0: liveDataSet,
    1: setLiveDataSet
  } = (0,react.useState)(undefined);
  var {
    1: setLiveDataTimestamp
  } = (0,react.useState)(0);
  var {
    0: triggerEventId,
    1: setTriggerEventId
  } = (0,react.useState)("");
  var {
    0: countdown,
    1: setCountdown
  } = (0,react.useState)(-1);
  var starting = countdown > 0;
  var chartPalette = (0,useChartPalette/* default */.Z)();
  var devices = (0,useDevices/* default */.Z)({
    ignoreInfrastructure: true,
    announced: true
  });
  var readingRegisters = (0,utils/* arrayConcatMany */.ue)(devices.map(device => device.services().filter(srv => (0,spec/* isSensor */.rq)(srv.specification)).map(srv => srv.readingRegister)));
  var recordingRegisters = readingRegisters.filter(reg => registerIdsChecked.indexOf(reg.id) > -1);
  var recordingDevices = (0,utils/* uniqueMap */.EM)(recordingRegisters, reg => reg.service.device.deviceId, reg => reg.service.device);
  var aggregators = (0,useServices/* default */.Z)({
    serviceClass: constants/* SRV_SENSOR_AGGREGATOR */.x12
  });
  var aggregator = aggregators.find(srv => srv.id == aggregatorId);
  var samplingCount = Math.ceil(samplingDuration * 1000 / samplingIntervalDelay);
  var triggerEvent = bus.node(triggerEventId);
  var startEnabled = !starting && !!(recordingRegisters !== null && recordingRegisters !== void 0 && recordingRegisters.length);
  var events = useEvents({
    ignoreChange: true
  });
  var id = (0,react.useId)();
  var samplingIntervalId = id + "-samplinginterval";
  var samplingDurationId = id + "-samplingduration";
  var startDelayId = id + "-startdelay";
  var prefixId = id + "-prefix";
  (0,react.useEffect)(() => {
    //console.log(`trigger event`, triggerEventId, triggerEvent)
    var un = triggerEvent === null || triggerEvent === void 0 ? void 0 : triggerEvent.subscribe(constants/* EVENT */.Ks0, () => {
      //console.log(`trigger toggle recoring`, recording)
      toggleRecording();
    }); //console.log(`mounted`, triggerEvent)

    return () => {
      //console.log(`unmount trigger`)
      if (un) un();
    };
  }, [triggerEvent, recording, registerIdsChecked, liveDataSet]);

  var createSensorConfig = () => ({
    samplingInterval: samplingIntervalDelay,
    samplesInWindow: 10,
    inputs: recordingRegisters.map(reg => ({
      serviceClass: reg.service.serviceClass
    }))
  });

  var saveConfig = () => {
    var sensorConfig = JSON.stringify(createSensorConfig(), null, 2);
    fileStorage.saveText((prefix || "jacdac") + "-sensor-config.json", sensorConfig);
  };

  var newDataSet = (registerIds, live) => registerIds.length ? createDataSet(bus, readingRegisters.filter(reg => registerIds.indexOf(reg.id) > -1), "" + (prefix || "data") + tables.length, live, chartPalette) : undefined;

  var handleRegisterCheck = reg => {
    var i = registerIdsChecked.indexOf(reg.id);
    if (i > -1) registerIdsChecked.splice(i, 1);else registerIdsChecked.push(reg.id);
    registerIdsChecked.sort();
    setRegisterIdsChecked((0,toConsumableArray/* default */.Z)(registerIdsChecked));
    setLiveDataSet(newDataSet(registerIdsChecked, true));
  };

  var stopRecording = () => {
    if (recording) {
      if (root) {
        var csv = liveDataSet.toCSV(); // write async

        var now = new Date();
        var name = "data-" + now.getFullYear() + "-" + (now.getMonth() + 1) + "-" + now.getDate() + "-" + now.getHours() + "-" + now.getMinutes() + "-" + now.getSeconds() + ".csv";
        root.fileAsync(name, {
          create: true
        }).then(f => f.write(csv));
      }

      setTables([liveDataSet].concat((0,toConsumableArray/* default */.Z)(tables)));
      setLiveDataSet(newDataSet(registerIdsChecked, true));
      setRecording(false);
      enqueueSnackbar("recording stopped");
    }
  };

  var startRecording = /*#__PURE__*/function () {
    var _ref = (0,asyncToGenerator/* default */.Z)(function* () {
      if (!starting && !recording && recordingRegisters.length) {
        // do countdown
        if (startDelay > 0) {
          var _countdown = Math.ceil(startDelay);

          while (_countdown > 0) {
            setCountdown(_countdown);
            yield (0,utils/* delay */.gw)(1000);
            _countdown--;
          }
        }

        setCountdown(-1);
        setLiveDataSet(newDataSet(registerIdsChecked, false));
        setRecording(true);

        if (aggregator) {
          var client = new sensoraggregatorclient/* SensorAggregatorClient */.F(aggregator);
          yield client.setInputs(createSensorConfig());
          client.collect(samplingCount);
        }

        enqueueSnackbar("recording started");
      }
    });

    return function startRecording() {
      return _ref.apply(this, arguments);
    };
  }();

  var toggleRecording = () => {
    if (recording) stopRecording();else startRecording();
  };

  var handleSamplingIntervalChange = event => {
    var v = parseInt(event.target.value);
    if (!isNaN(v)) setSamplingIntervalDelay(v);
  };

  var handleSamplingDurationChange = event => {
    var v = parseInt(event.target.value);
    if (!isNaN(v)) setSamplingDuration(v);
  };

  var handleStartDelayChange = event => {
    var v = parseInt(event.target.value);
    if (!isNaN(v)) setStartDelay(v);
  };

  var handlePrefixChange = event => {
    setPrefix(event.target.value.trim());
  };

  var handleTriggerChange = eventId => setTriggerEventId(eventId);

  var handleDeleteTable = table => {
    var i = tables.indexOf(table);

    if (i > -1) {
      tables.splice(i, 1);
      setTables((0,toConsumableArray/* default */.Z)(tables));
    }
  };

  var handleAggregatorChecked = srv => () => {
    var id = (srv === null || srv === void 0 ? void 0 : srv.id) == aggregatorId ? "" : srv === null || srv === void 0 ? void 0 : srv.id;
    setAggregatorId(id);
  };

  var updateLiveData = () => {
    setLiveDataSet(liveDataSet);
    setRecordingLength(liveDataSet.rows.length);
    setLiveDataTimestamp(bus.timestamp);
  };

  var throttleUpdate = (0,utils/* throttle */.P2)(() => updateLiveData(), 30); // data collection
  // interval add data entry

  var addRow = values => {
    if (!liveDataSet) return; //console.log(values)

    liveDataSet.addRow(values);

    if (recording && liveDataSet.length >= samplingCount) {
      // stop recording
      updateLiveData();
      stopRecording();
    } else {
      throttleUpdate();
    }
  }; // stream data


  (0,react.useEffect)(() => {
    bus.streaming = true;
    return () => {
      bus.streaming = false;
    };
  }, []); // collecting

  (0,react.useEffect)(() => {
    if (aggregator && recording) return undefined;
    var interval = setInterval(() => addRow(), samplingIntervalDelay);
    return () => {
      clearInterval(interval);
    };
  }, [recording, samplingIntervalDelay, samplingCount, registerIdsChecked, aggregator]);
  (0,react.useEffect)(() => {
    if (aggregator) {
      var client = new sensoraggregatorclient/* SensorAggregatorClient */.F(aggregator);
      return client.subscribeSample(values => addRow(values));
    }

    return () => {};
  }, [recording, liveDataSet, registerIdsChecked, aggregator]);
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("h1", null, "Data Collector"), /*#__PURE__*/react.createElement("p", null, "Use this page to collect streaming data from Jacdac devices into various output formats."), /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    container: true,
    spacing: 1
  }, !!aggregators.length && /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement(GridHeader/* default */.Z, {
    title: "(Optional) Choose a data aggregator"
  }), aggregators.map(aggregator => /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    key: aggregator.id,
    item: true,
    xs: 4
  }, /*#__PURE__*/react.createElement(Card/* default */.Z, null, /*#__PURE__*/react.createElement(DeviceCardHeader/* default */.Z, {
    device: aggregator.device,
    showAvatar: true
  }), /*#__PURE__*/react.createElement(CardActions/* default */.Z, null, /*#__PURE__*/react.createElement(Switch/* default */.Z, {
    checked: aggregatorId == aggregator.id,
    disabled: recording,
    onChange: handleAggregatorChecked(aggregator)
  })))))), /*#__PURE__*/react.createElement(GridHeader/* default */.Z, {
    title: "Sensors",
    action: /*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z, {
      title: "start simulator",
      onClick: handleShowStartSimulator
    }, /*#__PURE__*/react.createElement(Add/* default */.Z, null))
  }), !readingRegisters.length && /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true,
    xs: 12
  }, /*#__PURE__*/react.createElement(Alert/* default */.Z, {
    severity: "info"
  }, "Waiting for sensor...")), !!readingRegisters.length && /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true,
    xs: 12
  }, /*#__PURE__*/react.createElement(ReadingFieldGrid, {
    readingRegisters: readingRegisters,
    registerIdsChecked: registerIdsChecked,
    recording: recording,
    liveDataSet: liveDataSet,
    handleRegisterCheck: handleRegisterCheck
  })), /*#__PURE__*/react.createElement(GridHeader/* default */.Z, {
    title: "Recorder"
  }), aggregator && /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true,
    xs: 12
  }, /*#__PURE__*/react.createElement(Alert/* default */.Z, {
    severity: "info"
  }, "Record the sensor input configuration in order to up your ML model later on.")), /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true,
    xs: 12
  }, /*#__PURE__*/react.createElement(Button/* default */.Z, {
    size: "large",
    variant: "contained",
    color: recording ? "secondary" : "primary",
    title: starting ? "starting in " + countdown : recording ? "stop recording" : "start recording",
    onClick: toggleRecording,
    startIcon: starting ? /*#__PURE__*/react.createElement(HourglassEmpty/* default */.Z, null) : recording ? /*#__PURE__*/react.createElement(Stop/* default */.Z, null) : /*#__PURE__*/react.createElement(PlayArrow/* default */.Z, null),
    disabled: !startEnabled
  }, starting ? countdown + "" : recording ? "Stop" : "Start")), /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true,
    xs: 12,
    mt: 1
  }, /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    container: true,
    direction: "row",
    spacing: 1
  }, aggregator && /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true
  }, /*#__PURE__*/react.createElement(Button/* default */.Z, {
    variant: "contained",
    title: "save sensor input configuration",
    onClick: saveConfig,
    startIcon: /*#__PURE__*/react.createElement(Save/* default */.Z, null),
    disabled: recording
  }, "Save configuration")), /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true
  }, /*#__PURE__*/react.createElement(TextField/* default */.Z, {
    id: samplingIntervalId,
    disabled: recording,
    type: "number",
    label: "Sampling interval",
    value: samplingIntervalDelay,
    variant: "outlined",
    InputProps: {
      startAdornment: /*#__PURE__*/react.createElement(InputAdornment/* default */.Z, {
        position: "start"
      }, "ms")
    },
    onChange: handleSamplingIntervalChange
  })), /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true
  }, /*#__PURE__*/react.createElement(TextField/* default */.Z, {
    id: samplingDurationId,
    type: "number",
    disabled: recording,
    label: "Sampling duration",
    value: samplingDuration,
    variant: "outlined",
    InputProps: {
      startAdornment: /*#__PURE__*/react.createElement(InputAdornment/* default */.Z, {
        position: "start"
      }, "s")
    },
    onChange: handleSamplingDurationChange
  })), /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true
  }, /*#__PURE__*/react.createElement(TextField/* default */.Z, {
    id: startDelayId,
    type: "number",
    disabled: recording,
    label: "Start delay",
    value: startDelay,
    variant: "outlined",
    InputProps: {
      startAdornment: /*#__PURE__*/react.createElement(InputAdornment/* default */.Z, {
        position: "start"
      }, "s")
    },
    onChange: handleStartDelayChange
  })), /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true
  }, /*#__PURE__*/react.createElement(TextField/* default */.Z, {
    id: prefixId,
    disabled: recording,
    label: "File name prefix",
    value: prefix,
    variant: "outlined",
    onChange: handlePrefixChange
  })), /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true
  }, /*#__PURE__*/react.createElement(SelectEvent, {
    events: events,
    eventId: triggerEventId,
    onChange: handleTriggerChange,
    label: "Start Event",
    friendlyName: true
  })))), recordingDevices === null || recordingDevices === void 0 ? void 0 : recordingDevices.map(device => /*#__PURE__*/react.createElement(DashboardDeviceItem/* default */.Z, {
    key: device.id,
    device: device,
    showAvatar: true,
    showHeader: true
  })), liveDataSet && /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true,
    xs: 12
  }, /*#__PURE__*/react.createElement(Trend/* default */.Z, {
    key: "trends",
    height: 12,
    dataSet: liveDataSet,
    horizon: LIVE_HORIZON,
    dot: true,
    gradient: true,
    yAxis: false
  })), /*#__PURE__*/react.createElement(GridHeader/* default */.Z, {
    title: "Recordings"
  }), /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true,
    xs: 12
  }, /*#__PURE__*/react.createElement(FileTabs, {
    hideFiles: true,
    hideDirectories: true
  })), !!tables.length && /*#__PURE__*/react.createElement(Grid/* default */.ZP, {
    item: true,
    xs: 12
  }, /*#__PURE__*/react.createElement(DataSetGrid, {
    tables: tables,
    handleDeleteTable: handleDeleteTable
  }))));
}

/***/ })

}]);
//# sourceMappingURL=component---src-pages-tools-collector-tsx-f63400d4f972cc2ce431.js.map